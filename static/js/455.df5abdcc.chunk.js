"use strict";(self.webpackChunkrayos_admin_react=self.webpackChunkrayos_admin_react||[]).push([[455],{9515:function(t,e,n){var r=n(1413),i=n(6934),u=n(9891),a=(n(2791),n(184)),o=(0,i.ZP)((function(t){return(0,a.jsx)(u.Z,(0,r.Z)({focusVisibleClassName:".Mui-focusVisible"},t))}))((function(t){t.theme;return{width:44,height:26,padding:5,"& .MuiSwitch-switchBase":{margin:1,padding:6,transform:"translateX(0px)","&.Mui-checked":{color:"#fff",transform:"translateX(18px)"},"&.Mui-checked + .MuiSwitch-track":{}},"& .MuiSwitch-thumb":{width:12,height:12},"& .MuiSwitch-track":{borderRadius:16}}}));e.Z=o},384:function(t,e,n){n.d(e,{Z:function(){return f}});var r=n(1413),i=n(5987),u=n(8870),a=n(2808),o=(n(2791),n(6934)),c=n(184),l=(0,o.ZP)("div")((function(t){var e=t.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===e.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===e.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===e.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===e.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===e.palette.mode?"0.8":"0.08",fill:"light"===e.palette.mode?"#f5f5f5":"#fff"}}}));function s(){return(0,c.jsxs)(l,{children:[(0,c.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,c.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,c.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,c.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,c.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,c.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,c.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,c.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,c.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,c.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,c.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,c.jsx)(u.Z,{sx:{mt:1},children:"No Data Found!"})]})}var d=["columns","rows","isLoading","onCellClick"],f=function(t){var e=t.columns,n=t.rows,o=t.isLoading,l=(t.onCellClick,(0,i.Z)(t,d));return(0,c.jsx)(u.Z,{sx:{height:o||!n.length?"400px":"fit-content","& .MuiDataGrid-columnHeaders":{backgroundColor:"#E5E5E5",color:"black",fontWeight:900,fontSize:14}},children:(0,c.jsx)(a._,(0,r.Z)({headerAlign:!0,disableColumnMenu:!0,disableColumnFilter:!0,disableSelectionOnClick:!0,rowsPerPageOptions:[5,10,25,50,100],autoHeight:!(o||!n.length),columns:e,rows:n,loading:o,components:{NoRowsOverlay:s},sx:{"& .MuiDataGrid-columnHeader:focus-within, & .MuiDataGrid-cell:focus-within":{outline:"none !important"}}},l))})}},5612:function(t,e,n){var r=n(4942),i=n(1413),u=n(885),a=n(2791);e.Z=function(t){var e,n,o,c,l=a.useState({limit:(null===t||void 0===t||null===(e=t.defaultParams)||void 0===e?void 0:e.limit)||10,page:(null===t||void 0===t||null===(n=t.defaultParams)||void 0===n?void 0:n.page)||1,search:(null===t||void 0===t||null===(o=t.defaultParams)||void 0===o?void 0:o.search)||"",filters:(null===t||void 0===t||null===(c=t.defaultParams)||void 0===c?void 0:c.filter)||{}}),s=(0,u.Z)(l,2),d=s[0],f=s[1];return{params:d,search:null===d||void 0===d?void 0:d.search,setSearch:function(t){return f((0,i.Z)((0,i.Z)({},d),{},{search:t}))},page:((null===d||void 0===d?void 0:d.page)||1)-1,setPage:function(t){return f((0,i.Z)((0,i.Z)({},d),{},{page:t+1}))},limit:null===d||void 0===d?void 0:d.limit,setLimit:function(t){return f((0,i.Z)((0,i.Z)({},d),{},{limit:t}))},watch:function(t){var e;return(null===d||void 0===d||null===(e=d.filters)||void 0===e?void 0:e[t])||void 0},setFilterField:function(t,e){return f((0,i.Z)((0,i.Z)({},d),{},{filters:(0,i.Z)((0,i.Z)({},null===d||void 0===d?void 0:d.filters),{},(0,r.Z)({},t,e))}))},getQueryParams:function(){return JSON.parse(JSON.stringify((0,i.Z)((0,i.Z)({},d),{},{filters:void 0},d.filters)))}}}},6455:function(t,e,n){n.r(e);var r=n(1413),i=n(4165),u=n(5861),a=n(885),o=n(2791),c=n(3400),l=n(3044),s=n(1918),d=n(266),f=n(703),g=n(1889),m=n(4834),v=n(4415),h=n(3786),p=n(384),y=n(8792),Z=n(6112),x=n(9515),b=n(8090),P=n(7692),Q=n(7400),w=n(3953),C=n(6355),j=n(1087),S=n(5239),M=n(7589),k=n(1866),N=n(4373),F=n(5612),z=n(184);e.default=function(){var t,e,n,A,_,L,E,H,G,V,O=o.useContext(M.Z),U=(0,F.Z)(),R=U.limit,D=U.setLimit,q=U.page,B=U.setPage,I=U.search,W=U.setSearch,J=U.watch,T=U.setFilterField,X=U.getQueryParams,Y=o.useState("null"),K=(0,a.Z)(Y,2),$=K[0],tt=(K[1],(0,k.uQ)().data),et=(0,Z.hU)({limit:1e4,page:1}).data,nt=(0,y.tv)(X()),rt=nt.data,it=nt.isLoading,ut=(0,y.au)().mutateAsync,at=function(){var t=(0,u.Z)((0,i.Z)().mark((function t(e){var n;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,S.E)((function(){return ut(e)}));case 2:(n=t.sent).status?O.createSnack(n.msg):O.createSnack(n.msg,"error");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ot=[{headerName:"",field:"id",width:60,headerAlign:"center",align:"center",renderCell:function(t){var e;return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(c.Z,{component:j.rU,size:"small",color:"primary",to:"/prod/".concat(null===(e=t.row)||void 0===e?void 0:e._id),children:(0,z.jsx)(C.bdS,{})})})}},{headerName:"Image",headerAlign:"center",field:"icon",align:"center",width:80,renderCell:function(t){return(0,z.jsx)(l.Z,{src:(0,Q.FG)(t.row.image),variant:"rounded",sx:{bgcolor:"transparent",color:function(t){return"".concat(t.palette.primary.main," !important")},border:"1px solid #eee"},children:(0,z.jsx)(N.xUA,{})})}},{headerName:"Product Name",headerAlign:"center",field:"titleEn",align:"left",width:200},{headerName:"Store",headerAlign:"center",field:"store title",align:"center",width:200,renderCell:function(t){return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(s.Z,{label:t.row.store.titleEn,variant:"outlined",to:"/store/".concat(t.row.store._id),component:j.rU,onClick:function(){},avatar:(0,z.jsx)(l.Z,{src:(0,Q.FG)(t.row.store.image),sx:{bgcolor:"transparent",color:function(t){return"".concat(t.palette.primary.main," !important")}},children:(0,z.jsx)(P.iFB,{style:{fontSize:"1.8em"}})})})})}},{headerName:"Category",headerAlign:"center",field:"category",width:120,align:"center",renderCell:function(t){return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(s.Z,{avatar:(0,z.jsx)(l.Z,{src:(0,Q.FG)(t.row.category.icon),sx:{bgcolor:"transparent",color:function(t){return"".concat(t.palette.primary.main," !important")}},children:(0,z.jsx)(P.vfw,{style:{fontSize:"1.8em"}})}),label:t.row.category.titleEn,variant:"outlined",to:"/cat/".concat(t.row.category._id),component:j.rU,onClick:function(){}})})}},{headerName:"Buy Price",headerAlign:"center",field:"buyPrice",align:"center",width:100},{headerName:"Sell Price",headerAlign:"center",field:"sellPrice",width:100,align:"center"},{headerName:"Stock",headerAlign:"center",field:"quantity",align:"center"},{headerName:"Status",headerAlign:"center",field:"status_stock",align:"center",width:120,renderCell:function(t){return(0,z.jsx)(s.Z,{label:t.row.quantity>0?"In Sell":"Stock Out",color:t.row.quantity>0?"success":"error",size:"small",sx:{textTransform:"uppercase"}})}},{headerName:"Published",headerAlign:"center",field:"status",align:"center",width:120,renderCell:function(t){var e;return(0,z.jsx)(x.Z,{checked:null===(e=t.row)||void 0===e?void 0:e.isActive,color:"success",onClick:function(){var e;at(null===(e=t.row)||void 0===e?void 0:e._id)}})}}];return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(d.Z,{sx:{py:2},children:[(0,z.jsx)(w.Z,{stateList:[{num:null===tt||void 0===tt||null===(t=tt.data)||void 0===t||null===(e=t.data)||void 0===e?void 0:e.total,title:"Total Products"},{num:null===tt||void 0===tt||null===(n=tt.data)||void 0===n||null===(A=n.data)||void 0===A?void 0:A.published,title:"Published"},{num:null===tt||void 0===tt||null===(_=tt.data)||void 0===_||null===(L=_.data)||void 0===L?void 0:L.unpublished,title:"Unpublished"}]}),(0,z.jsx)(f.Z,{elevation:0,sx:{p:2,border:"1px solid #ccc",my:2},children:(0,z.jsxs)(g.ZP,{container:!0,rowGap:1,columnGap:1,alignItems:"center",justifyContent:"space-between",children:[(0,z.jsx)(g.ZP,{item:!0,xs:12,md:8.2,children:(0,z.jsx)(m.ZP,{placeholder:"Search Product",sx:b.Z,value:I,onChange:function(t){return W(t.target.value)},fullWidth:!0})}),(0,z.jsx)(g.ZP,{item:!0,xs:12,md:3.6,children:(0,z.jsxs)(v.Z,{sx:(0,r.Z)({},b.Z),value:J("category")||"null",onChange:function(t){T("category",t.target.value)},fullWidth:!0,children:[(0,z.jsx)(h.Z,{value:"null",selected:!0,disabled:!0,children:"Select Category"}),null===et||void 0===et||null===(E=et.data)||void 0===E||null===(H=E.data)||void 0===H?void 0:H.map((function(t){return(0,z.jsx)(h.Z,{value:t._id,disabled:t._id===$,children:t.titleEn},t._id)}))]})})]})}),(0,z.jsx)(p.Z,{columns:ot,rows:(null===rt||void 0===rt||null===(G=rt.data)||void 0===G?void 0:G.data)||[],isLoading:it,paginationMode:"server",rowCount:(null===rt||void 0===rt||null===(V=rt.data)||void 0===V?void 0:V.total)||0,page:q,onPageChange:B,pageSize:R,onPageSizeChange:D})]})})}},6112:function(t,e,n){n.d(e,{E6:function(){return d},Ee:function(){return x},Gb:function(){return g},HL:function(){return l},L8:function(){return h},Ny:function(){return v},S1:function(){return y},SA:function(){return b},aq:function(){return o},g0:function(){return Q},hU:function(){return a},pE:function(){return C}});var r=n(1413),i=n(1933),u=n(7400),a=function(t){return(0,i.useQuery)(["get-all-category",t],(function(){return function(t){return u.ZP.get("category",{params:t})}(t)}),{})},o=function(t){return(0,i.useQuery)(["get-category",t],(function(){return function(t){return u.ZP.get("category/".concat(t))}(t)}),{enabled:!!t})},c=function(t){return u.ZP.post("category",t)},l=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(c,{onSuccess:function(){return t.invalidateQueries("get-all-category")}})},s=function(t){return u.ZP.post("subcategory",t)},d=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(s,{onSuccess:function(){return t.invalidateQueries("get-sub-category-cat")}})},f=function(t){var e=t.id,n=t.data;return u.ZP.patch("subcategory/".concat(e),n)},g=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(f,{onSuccess:function(){return t.invalidateQueries("get-sub-category-cat")}})},m=function(t){var e=t.id,n=t.data;return u.ZP.patch("category/".concat(e),n)},v=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(m,{onSuccess:function(){t.invalidateQueries("get-all-category"),t.invalidateQueries("get-category")}})},h=function(t,e){return(0,i.useQuery)(["get-sub-category-cat",t,e],(function(){return function(t,e){return u.ZP.get("subcategory",{params:(0,r.Z)((0,r.Z)({},e),{},{category:t})})}(t,e)}),{enabled:!!t&&"null"!==t,retry:0})},p=function(t){return u.ZP.put("category/".concat(t))},y=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(p,{onSuccess:function(){return t.invalidateQueries("get-all-category")}})},Z=function(t){return u.ZP.put("subcategory/".concat(t))},x=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(Z,{onSuccess:function(){return t.invalidateQueries("get-sub-category-cat")}})},b=function(t){return(0,i.useQuery)(["get-category-images",t],(function(){return function(t){return u.ZP.get("category/".concat(t,"/images"))}(t)}),{enabled:!!t})},P=function(t){return u.ZP.delete("category/images/".concat(t))},Q=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(P,{onSuccess:function(){return t.invalidateQueries("get-category-images")}})},w=function(t){var e=t.id,n=t.data;return u.ZP.postForm("category/".concat(e,"/images"),n)},C=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(w,{onSuccess:function(){return t.invalidateQueries("get-category-images")}})}},8792:function(t,e,n){n.d(e,{F5:function(){return y},KA:function(){return x},Ss:function(){return o},_R:function(){return h},au:function(){return P},b6:function(){return f},bR:function(){return m},gl:function(){return d},mj:function(){return w},tv:function(){return a},vO:function(){return l}});var r=n(1413),i=n(1933),u=n(7400),a=function(t){return(0,i.useQuery)(["get-all-product",t],(function(){return function(t){return u.ZP.get("product",{params:t})}(t)}),{})},o=function(t){return(0,i.useQuery)(["get-product-by-id",t],(function(){return function(t){return u.ZP.get("product/".concat(t))}(t)}),{})},c=function(t){var e=t.product_id,n=t.data;return u.ZP.patch("product/".concat(e),n)},l=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(c,{onSuccess:function(){t.invalidateQueries("get-all-product"),t.invalidateQueries("get-product-by-id")}})},s=function(t){return u.ZP.post("product",(0,r.Z)({},t))},d=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(s,{onSuccess:function(){t.invalidateQueries(["get-all-product"]),t.invalidateQueries(["get-products-by-store"])}})},f=function(t){return(0,i.useQuery)(["get-product-images",t],(function(){return function(t){return u.ZP.get("product/".concat(t,"/images"))}(t)}),{enabled:!!t})},g=function(t){return u.ZP.delete("product/images/".concat(t))},m=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(g,{onSuccess:function(){return t.invalidateQueries("get-product-images")}})},v=function(t){var e=t.id,n=t.data;return u.ZP.postForm("product/".concat(e,"/images"),n)},h=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(v,{onSuccess:function(){return t.invalidateQueries("get-product-images")}})},p=function(t){var e=t.id,n=t.data;return u.ZP.patch("variant/".concat(e),n)},y=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(p,{onSuccess:function(){return t.invalidateQueries("get-product-by-id")}})},Z=function(t){var e=t.id,n=t.data;return u.ZP.post("variant/".concat(e),n)},x=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(Z,{onSuccess:function(){return t.invalidateQueries("get-product-by-id")}})},b=function(t){return u.ZP.put("product/".concat(t))},P=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(b,{onSuccess:function(){t.invalidateQueries("get-all-product"),t.invalidateQueries("get-product-by-id"),t.invalidateQueries("get-product-stats")}})},Q=function(t){return u.ZP.put("variant/".concat(t))},w=function(){var t=(0,i.useQueryClient)();return(0,i.useMutation)(Q,{onSuccess:function(){t.invalidateQueries("get-product-by-id")}})}},1866:function(t,e,n){n.d(e,{FU:function(){return o},oY:function(){return c},tY:function(){return l},uQ:function(){return u},xf:function(){return a}});var r=n(1933),i=n(7400),u=function(){return(0,r.useQuery)(["get-product-stats"],(function(){return i.ZP.get("stats/product")}),{})},a=function(){return(0,r.useQuery)(["get-customer-stats"],(function(){return i.ZP.get("stats/customer")}),{})},o=function(){return(0,r.useQuery)(["get-store-stats"],(function(){return i.ZP.get("stats/store")}),{})},c=function(){return(0,r.useQuery)(["get-orders-stats"],(function(){return i.ZP.get("stats/order")}),{})},l=function(){return(0,r.useQuery)(["get-category-stats"],(function(){return i.ZP.get("stats/category")}),{})}},8090:function(t,e){e.Z={bgcolor:"#f3f3f3",borderRadius:"4px",px:"10px",height:"52px",outline:"none","&, & *":{border:"transparent !important",outline:"none !important"}}}}]);
//# sourceMappingURL=455.df5abdcc.chunk.js.map