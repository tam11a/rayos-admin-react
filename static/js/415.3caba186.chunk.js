"use strict";(self.webpackChunkrayos_admin_react=self.webpackChunkrayos_admin_react||[]).push([[415],{9515:function(e,n,t){var r=t(1413),i=t(6934),a=t(9891),l=(t(2791),t(184)),o=(0,i.ZP)((function(e){return(0,l.jsx)(a.Z,(0,r.Z)({focusVisibleClassName:".Mui-focusVisible"},e))}))((function(e){e.theme;return{width:44,height:26,padding:5,"& .MuiSwitch-switchBase":{margin:1,padding:6,transform:"translateX(0px)","&.Mui-checked":{color:"#fff",transform:"translateX(18px)"},"&.Mui-checked + .MuiSwitch-track":{}},"& .MuiSwitch-thumb":{width:12,height:12},"& .MuiSwitch-track":{borderRadius:16}}}));n.Z=o},1852:function(e,n,t){var r=t(6934),i=t(3896),a=(0,r.ZP)(i.Z)((function(e){var n=e.theme;return{textTransform:"none",fontSize:{xs:"0.7rem",md:"1rem"},fontWeight:"600",borderRadius:"50px","&:hover":{opacity:1,color:n.palette.black.main},"&.Mui-selected":{color:n.palette.black.contrastText,background:n.palette.black.main},"&.Mui-focusVisible":{backgroundColor:"#d1eaff"}}}));n.Z=a},8377:function(e,n,t){var r=t(6934),i=t(9124),a=(0,r.ZP)(i.Z)((function(e){e.theme;return{boxShadow:"0px 4px 25px rgba(0, 0, 0, 0.1)",borderRadius:"50px","& .MuiTabs-flexContainer":{justifyContent:"space-between"},"& .MuiTabs-flexContainer > *":{flex:1},"& .MuiTabs-indicator":{backgroundColor:"transparent"}}}));n.Z=a},384:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(1413),i=t(5987),a=t(8870),l=t(2808),o=(t(2791),t(6934)),u=t(184),s=(0,o.ZP)("div")((function(e){var n=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===n.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===n.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===n.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===n.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===n.palette.mode?"0.8":"0.08",fill:"light"===n.palette.mode?"#f5f5f5":"#fff"}}}));function d(){return(0,u.jsxs)(s,{children:[(0,u.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,u.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,u.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,u.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,u.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,u.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,u.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,u.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,u.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,u.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,u.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,u.jsx)(a.Z,{sx:{mt:1},children:"No Data Found!"})]})}var c=["columns","rows","isLoading","onCellClick"],h=function(e){var n=e.columns,t=e.rows,o=e.isLoading,s=(e.onCellClick,(0,i.Z)(e,c));return(0,u.jsx)(a.Z,{sx:{height:o||!t.length?"400px":"fit-content","& .MuiDataGrid-columnHeaders":{backgroundColor:"#E5E5E5",color:"black",fontWeight:900,fontSize:14}},children:(0,u.jsx)(l._,(0,r.Z)({headerAlign:!0,disableColumnMenu:!0,disableColumnFilter:!0,disableSelectionOnClick:!0,rowsPerPageOptions:[5,10,25,50,100],autoHeight:!(o||!t.length),columns:n,rows:t,loading:o,components:{NoRowsOverlay:d},sx:{"& .MuiDataGrid-columnHeader:focus-within, & .MuiDataGrid-cell:focus-within":{outline:"none !important"}}},s))})}},1703:function(e,n,t){var r=t(1413),i=t(4165),a=t(5861),l=t(5987),o=t(4415),u=t(4834),s=t(1918),d=t(3786),c=t(2791),h=t(7589),f=t(4972),m=t(5239),v=t(184),x=["id","status","size"];n.Z=function(e){var n=e.id,t=e.status,p=e.size,g=(0,l.Z)(e,x),Z=function(){switch(t){case"Pending":return"info";case"Shipped":case"Confirmed":return"black";case"Canceled":case"Returned":return"error";case"Delivered":return"success";default:return"default"}},j=(0,f.Ll)(),b=j.mutateAsync,w=(j.isLoading,c.useContext(h.Z)),y=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.E)((function(){return b({id:n,status:t})}),[201]);case 2:(r=e.sent).status?w.createSnack(r.msg):w.createSnack(r.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,v.jsxs)(o.Z,(0,r.Z)((0,r.Z)({value:t||"",disabled:"Returned"===t||"Canceled"===t,size:"small",fullWidth:!0,IconComponent:function(){return(0,v.jsx)(v.Fragment,{})},input:(0,v.jsx)(u.ZP,{sx:{pr:0}}),sx:{"& .MuiSelect-select":{padding:"0 !important",display:"flex",alignItems:"center",justifyContent:"center"}},MenuProps:{sx:{mt:"5px"}},renderValue:function(e){return(0,v.jsx)(s.Z,{label:e,color:Z(),size:p||"medium",sx:{fontWeight:"bold",textTransform:"uppercase"},onClick:function(){}},e)}},g),{},{onChange:function(e){return y(e.target.value)},children:[(0,v.jsx)(d.Z,{value:"Pending",disabled:!0,children:"Pending"}),(0,v.jsx)(d.Z,{value:"Confirmed",disabled:"Confirmed"===t,children:"Confirmed"}),(0,v.jsx)(d.Z,{value:"Shipped",disabled:"Shipped"===t,children:"Shipped"}),(0,v.jsx)(d.Z,{value:"Delivered",disabled:"Delivered"===t,children:"Delivered"}),(0,v.jsx)(d.Z,{value:"Canceled",disabled:"Canceled"===t,children:"Canceled"}),(0,v.jsx)(d.Z,{value:"Returned",disabled:"Returned"===t,children:"Returned"})]}))}},5612:function(e,n,t){var r=t(4942),i=t(1413),a=t(885),l=t(2791);n.Z=function(e){var n,t,o,u,s=l.useState({limit:(null===e||void 0===e||null===(n=e.defaultParams)||void 0===n?void 0:n.limit)||10,page:(null===e||void 0===e||null===(t=e.defaultParams)||void 0===t?void 0:t.page)||1,search:(null===e||void 0===e||null===(o=e.defaultParams)||void 0===o?void 0:o.search)||"",filters:(null===e||void 0===e||null===(u=e.defaultParams)||void 0===u?void 0:u.filter)||{}}),d=(0,a.Z)(s,2),c=d[0],h=d[1];return{params:c,search:null===c||void 0===c?void 0:c.search,setSearch:function(e){return h((0,i.Z)((0,i.Z)({},c),{},{search:e}))},page:((null===c||void 0===c?void 0:c.page)||1)-1,setPage:function(e){return h((0,i.Z)((0,i.Z)({},c),{},{page:e+1}))},limit:null===c||void 0===c?void 0:c.limit,setLimit:function(e){return h((0,i.Z)((0,i.Z)({},c),{},{limit:e}))},watch:function(e){var n;return(null===c||void 0===c||null===(n=c.filters)||void 0===n?void 0:n[e])||void 0},setFilterField:function(e,n){return h((0,i.Z)((0,i.Z)({},c),{},{filters:(0,i.Z)((0,i.Z)({},null===c||void 0===c?void 0:c.filters),{},(0,r.Z)({},e,n))}))},getQueryParams:function(){return JSON.parse(JSON.stringify((0,i.Z)((0,i.Z)({},c),{},{filters:void 0},c.filters)))}}}},5415:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var r=t(1413),i=t(885),a=t(266),l=t(2791),o=t(7689),u=t(1087),s=t(1852),d=t(8377),c=t(4165),h=t(5861),f=t(1889),m=t(8870),v=t(3239),x=t(3044),p=t(68),g=t(9877),Z=t(3767),j=t(890),b=t(9538),w=t(703),y=t(4721),C=t(4518),P=t(3853),S=(t(3588),t(1537)),k=t(5239),M=t(7589),N=t(6355),A=t(1134),Q=t(4095),F=t(7400),z=t(2711),D=t(4335),I=t(9515),R=t(184),G=function(){var e,n,t,u,s,d,G,O,W,U,_,T,L=l.useContext(M.Z),E=(0,o.UO)().cid,H=l.useState(),V=(0,i.Z)(H,2),J=V[0],B=V[1],Y=(0,A.cI)(),X=Y.register,$=(Y.getValues,Y.setValue,Y.reset),q=Y.handleSubmit,K=Y.formState,ee=(K.errors,K.isDirty),ne=(0,S.Yz)(E).data,te=(0,S.dd)().mutateAsync,re=function(){var e=(0,h.Z)((0,c.Z)().mark((function e(n){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return te(n)}));case 2:(t=e.sent).status?L.createSnack(t.msg):L.createSnack(t.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();l.useEffect((function(){var e,n,t,r,i,a,l,o;ne&&(ee||$({userName:null===ne||void 0===ne||null===(e=ne.data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.userName,fullName:null===ne||void 0===ne||null===(t=ne.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.fullName,email:null===ne||void 0===ne||null===(i=ne.data)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.email,phone:null===ne||void 0===ne||null===(l=ne.data)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.phone}))}),[ne]);var ie=(0,S.Hl)(),ae=ie.mutateAsync,le=ie.isLoading,oe=function(){var e=(0,h.Z)((0,c.Z)().mark((function e(n){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return ae({customer_id:E,data:n})}),[200]);case 2:(t=e.sent).status?L.createSnack(t.msg):L.createSnack(t.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ue=(0,D.JT)(),se=ue.mutateAsync,de=ue.isLoading,ce=function(){var e=(0,h.Z)((0,c.Z)().mark((function e(){var n,t,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return se([J])}),[201]);case 2:if(!(n=e.sent).status){e.next=8;break}return e.next=6,oe({image:null===(t=n.data)||void 0===t||null===(r=t[0])||void 0===r?void 0:r._id});case 6:e.next=9;break;case 8:L.createSnack(n.data,"error");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.useEffect((function(){J&&ce()}),[J]),(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",pb:1},children:(0,R.jsxs)(f.ZP,{container:!0,spacing:4,sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:1},children:[(0,R.jsxs)(f.ZP,{item:!0,xs:12,sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",rowGap:2,columnGap:4,justifyContent:{xs:"center"}},children:[(0,R.jsxs)(m.Z,{sx:{position:"relative",minHeight:"150px",minWidth:"150px"},component:"form",children:[de||le?(0,R.jsx)(m.Z,{sx:{borderRadius:"50%",position:"relative",height:"150px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,R.jsx)(v.Z,{color:"black"})}):(0,R.jsx)(x.Z,{sx:{width:"150px",height:"150px"},src:(0,F.FG)(null===ne||void 0===ne||null===(e=ne.data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.image),alt:null===ne||void 0===ne||null===(t=ne.data)||void 0===t||null===(u=t.data)||void 0===u?void 0:u.fullName}),(0,R.jsx)(p.Z,{title:"Upload Photo",children:(0,R.jsxs)(g.Z,{size:"small",sx:{position:"absolute",top:100,right:0},color:"secondary",component:"label",children:[(0,R.jsx)(P.IYd,{}),(0,R.jsx)("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(e){B(e.target.files[0])}})]})})]}),(0,R.jsxs)(Z.Z,{direction:"column",sx:{alignItems:{xs:"center",sm:"flex-start"}},children:[(0,R.jsxs)(Z.Z,{direction:"row",alignItems:"center",columnGap:1,children:[(0,R.jsx)(j.Z,{variant:"h6",children:null===ne||void 0===ne||null===(s=ne.data)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.userName}),(0,R.jsx)(I.Z,{checked:null===ne||void 0===ne||null===(G=ne.data)||void 0===G||null===(O=G.data)||void 0===O?void 0:O.isActive,color:"success",onClick:function(){var e,n;re(null===ne||void 0===ne||null===(e=ne.data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n._id)}})]}),(0,R.jsxs)(j.Z,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",columnGap:1,mt:{sm:1}},children:[(0,R.jsx)(b.Z,{smDown:!0,children:(0,R.jsx)(z.JO,{icon:"uiw:mail"})}),(0,R.jsx)("span",{children:null===ne||void 0===ne||null===(W=ne.data)||void 0===W||null===(U=W.data)||void 0===U?void 0:U.email})]}),(0,R.jsxs)(j.Z,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",columnGap:1,mt:{sm:1}},children:[(0,R.jsx)(b.Z,{smDown:!0,children:(0,R.jsx)(N.DNl,{})}),(0,R.jsx)("span",{children:null===ne||void 0===ne||null===(_=ne.data)||void 0===_||null===(T=_.data)||void 0===T?void 0:T.phone})]})]})]}),(0,R.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,R.jsxs)(w.Z,{sx:{p:{xs:1,md:2},boxShadow:{xs:2,md:6},maxWidth:"350px",mx:"auto"},component:Z.Z,direction:"column",rowGap:1,children:[(0,R.jsxs)(b.Z,{mdDown:!0,children:[(0,R.jsx)(j.Z,{variant:"h5",sx:{p:1},children:"ACCOUNT SETTINGS"}),(0,R.jsx)(y.Z,{})]}),(0,R.jsxs)("form",{onSubmit:q(oe),children:[(0,R.jsx)(j.Z,{variant:"button",children:"Username "}),(0,R.jsx)(Q.Z,(0,r.Z)({placeholder:"Username",fullWidth:!0},X("userName"))),(0,R.jsx)(j.Z,{variant:"button",children:"Name "}),(0,R.jsx)(Q.Z,(0,r.Z)({placeholder:"Full Name",fullWidth:!0},X("fullName"))),(0,R.jsx)(j.Z,{variant:"button",children:"Phone "}),(0,R.jsx)(Q.Z,(0,r.Z)({placeholder:"Phone Number",readOnly:!0,disabled:!0,fullWidth:!0},X("phone"))),(0,R.jsx)(j.Z,{variant:"button",children:"email "}),(0,R.jsx)(Q.Z,(0,r.Z)({placeholder:"Full Name",fullWidth:!0},X("email"))),(0,R.jsx)(C.Z,{variant:"contained",color:"black",type:"submit",disabled:le||!ee,fullWidth:!0,children:"Update"})]})]})})]})})})},O=t(4942),W=t(3400),U=t(4834),_=t(4415),T=t(3786),L=t(2426),E=t.n(L),H=t(384),V=t(3953),J=t(4972),B=t(8090),Y=(t(3785),t(1703)),X=function(){l.useContext(M.Z);var e,n,t,s,d,c=(0,o.UO)().cid,h=l.useState({method:"all",limit:10,page:1,filters:[]}),m=(0,i.Z)(h,2),v=m[0],x=m[1],p=(0,J.J_)(c,v),g=p.data,Z=p.isLoading,b=[{headerName:"",field:"id",width:100,align:"center",headerAlign:"center",renderCell:function(e){var n;return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(W.Z,{component:u.rU,size:"small",color:"primary",to:"/order-details/".concat(null===(n=e.row)||void 0===n?void 0:n._id),children:(0,R.jsx)(N.bdS,{})})})},sortable:!1},{headerName:"Reciepent Phone",headerAlign:"center",align:"center",field:"phone",width:120,sortable:!1,renderCell:function(e){var n;return(0,R.jsx)(j.Z,{children:(null===(n=e.row.shipping)||void 0===n?void 0:n.phone)||"-"})}},(e={headerName:"Order Date",headerAlign:"center",align:"center",field:"createdAt",width:170},(0,O.Z)(e,"headerAlign","center"),(0,O.Z)(e,"renderCell",(function(e){return(0,R.jsx)(j.Z,{children:E()(e.row.createdAt).format("lll")})})),e),(n={headerName:"Status",headerAlign:"center",align:"center",field:"status",width:120},(0,O.Z)(n,"headerAlign","center"),(0,O.Z)(n,"align","center"),(0,O.Z)(n,"renderCell",(function(e){return(0,R.jsx)(Y.Z,{id:e.row._id,status:e.row.status,size:"small"})})),(0,O.Z)(n,"sortable",!1),n),{headerName:"Method",field:"paymentMethod",align:"center",headerAlign:"center",sortable:!1},{headerName:"Product Total",field:"totalSellPrice",align:"center",headerAlign:"center",sortable:!1},{headerName:"Shipping Fee",headerAlign:"center",field:"shippingFee",align:"center",sortable:!1},{headerName:"Voucher",headerAlign:"center",field:"voucher",align:"center",width:120,renderCell:function(e){var n;return(null===(n=e.row)||void 0===n?void 0:n.voucher)||"-"},sortable:!1},{headerName:"Discount",headerAlign:"center",field:"discount",align:"center",sortable:!1},{headerName:"Total Price",headerAlign:"center",field:"total",align:"center",sortable:!1}];return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(a.Z,{sx:{py:2},children:[(0,R.jsx)(V.Z,{stateList:[{num:null===g||void 0===g||null===(t=g.data)||void 0===t?void 0:t.total,title:"Total Order"},{num:"-",title:"Total Confirm Order"},{num:"-",title:"Total Pending order"},{num:"-",title:"Total Cancel Order"}]}),(0,R.jsx)(w.Z,{elevation:0,sx:{p:2,border:"1px solid #ccc",my:2},children:(0,R.jsxs)(f.ZP,{container:!0,rowGap:1,columnGap:1,alignItems:"center",justifyContent:"space-between",children:[(0,R.jsx)(f.ZP,{item:!0,xs:12,sm:8.7,children:(0,R.jsx)(U.ZP,{placeholder:"Search Order",sx:B.Z,onChange:function(e){x((0,r.Z)((0,r.Z)({},v),{},{filters:["receiver_number~".concat(e.target.value)]}))},fullWidth:!0})}),(0,R.jsx)(f.ZP,{item:!0,xs:12,sm:3,children:(0,R.jsxs)(_.Z,{sx:(0,r.Z)({},B.Z),value:v.method,onChange:function(e){return x((0,r.Z)((0,r.Z)({},v),{},{method:e.target.value}))},fullWidth:!0,children:[(0,R.jsx)(T.Z,{value:"all",disabled:"all"===v.method,children:"All"}),(0,R.jsx)(T.Z,{value:"Pending",disabled:"Pending"===v.method,children:"Pending"}),(0,R.jsx)(T.Z,{value:"Confirmed",disabled:"Confirmed"===v.method,children:"Confirmed"}),(0,R.jsx)(T.Z,{value:"Shipped",disabled:"Shipped"===v.method,children:"Shipped"}),(0,R.jsx)(T.Z,{value:"Delivered",disabled:"Delivered"===v.method,children:"Delivered"}),(0,R.jsx)(T.Z,{value:"Canceled",disabled:"Canceled"===v.method,children:"Canceled"}),(0,R.jsx)(T.Z,{value:"Returned",disabled:"Returned"===v.method,children:"Returned"})]})})]})}),(0,R.jsx)(H.Z,{sx:{my:2},columns:b,rows:(null===g||void 0===g||null===(s=g.data)||void 0===s?void 0:s.data)||[],isLoading:Z,paginationMode:"server",rowCount:(null===g||void 0===g||null===(d=g.data)||void 0===d?void 0:d.total)||0,page:((null===v||void 0===v?void 0:v.page)||1)-1,onPageChange:function(e){console.log(e+1),x((0,r.Z)((0,r.Z)({},v),{},{page:e+1}))},pageSize:null===v||void 0===v?void 0:v.limit,onPageSizeChange:function(e){return x((0,r.Z)((0,r.Z)({},v),{},{limit:e,page:1}))}})]}),";"]})},$=(t(8152),t(7569)),q=function(){var e=(0,o.UO)().cid;return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(a.Z,{sx:{py:2},children:[(0,R.jsx)(j.Z,{variant:"h6",sx:{mb:1,fontWeight:"bold"},children:"All Review"}),(0,R.jsx)($.Z,{author:e})]})})},K=function(){var e=(0,o.UO)(),n=(e.uid,e.path_url,(0,u.lr)()),t=(0,i.Z)(n,2),l=t[0],c=t[1];return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(a.Z,{sx:{pt:1},children:[(0,R.jsxs)(d.Z,{value:l.get("tab"),sx:{width:"fit-content",minWidth:{xs:"90vw",sm:"350px"},maxWidth:"90vw",mx:"auto",my:2},children:[(0,R.jsx)(s.Z,{value:null,label:"User Profile",onClick:function(){delete l.tab,c((0,r.Z)({},l))}}),(0,R.jsx)(s.Z,{value:"order",label:"User Order",onClick:function(){return c((0,r.Z)((0,r.Z)({},l),{},{tab:"order"}))}}),(0,R.jsx)(s.Z,{value:"review",label:"User Review",onClick:function(){return c((0,r.Z)((0,r.Z)({},l),{},{tab:"review"}))}})]}),"order"===l.get("tab")?(0,R.jsx)(X,{}):"review"===l.get("tab")?(0,R.jsx)(q,{}):(0,R.jsx)(G,{})]})})}},7569:function(e,n,t){var r=t(4165),i=t(5861),a=t(1413),l=t(885),o=t(703),u=t(1889),s=t(4834),d=t(4415),c=t(3786),h=t(3767),f=t(3239),m=t(8178),v=t(3044),x=t(748),p=t(890),g=t(2791),Z=t(1087),j=t(8152),b=t(7400),w=t(2426),y=t.n(w),C=t(8090),P=t(9515),S=t(7589),k=t(5239),M=t(5612),N=t(184),A=function(e){var n,t,a=e.revItem,l=e.showUser,u=e.showProd,s=e.showAll,d=g.useContext(S.Z),c=(0,j.S)().mutateAsync,f=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return c(n)}));case 2:(t=e.sent).status?d.createSnack(t.msg):d.createSnack(t.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,N.jsx)(o.Z,{elevation:0,sx:{p:1,pb:.5,mb:1,"&:last-child":{mb:0},border:"1px solid #ddd"},children:(0,N.jsxs)(h.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",columnGap:4,children:[(l||s)&&(0,N.jsx)(h.Z,{direction:"column",alignItems:"center",rowGap:.5,maxWidth:"62px",component:Z.rU,to:"/customer/".concat(null===a||void 0===a||null===(n=a.author)||void 0===n?void 0:n._id),sx:{textDecoration:"none",color:"unset"},children:(0,N.jsx)(v.Z,{sx:{width:45,height:45},variant:"rounded",src:(0,b.FG)(null===a||void 0===a?void 0:a.author.image),alt:null===a||void 0===a?void 0:a.author.fullName})}),(u||s)&&(0,N.jsx)(h.Z,{direction:"column",alignItems:"center",rowGap:.5,maxWidth:"200px",component:Z.rU,to:"/prod/".concat(null===a||void 0===a||null===(t=a.product)||void 0===t?void 0:t._id),sx:{textDecoration:"none",color:"unset"},children:(0,N.jsx)(v.Z,{sx:{borderRadius:1,height:"45px",width:"45px",background:"transparent",color:"primary.dark",mr:1},src:(0,b.FG)(null===a||void 0===a?void 0:a.product.image),alt:null===a||void 0===a?void 0:a.product.titleEn})}),(0,N.jsxs)(h.Z,{direction:"column",rowGap:.5,flex:1,children:[(0,N.jsx)(x.Z,{name:"half-rating-read",value:null===a||void 0===a?void 0:a.rating,precision:.1,size:"small",readOnly:!0}),(0,N.jsx)(p.Z,{children:null===a||void 0===a?void 0:a.message}),(0,N.jsx)(p.Z,{variant:"caption",children:y()(null===a||void 0===a?void 0:a.createdAt).format("lll")})]}),(0,N.jsx)(P.Z,{checked:null===a||void 0===a?void 0:a.isActive,color:"success",onClick:function(){f(null===a||void 0===a?void 0:a._id)}})]})})};n.Z=function(e){var n,t,r=e.author,i=e.product,v=(0,M.Z)(),x=v.limit,p=v.setLimit,Z=v.page,b=v.setPage,w=v.search,y=v.setSearch,P=v.watch,S=v.setFilterField,k=v.getQueryParams;g.useEffect((function(){(r||i)&&(r&&S("author",r),i&&S("product",i))}),[]);var Q=(0,j.R)(k()),F=Q.data,z=Q.isLoading,D=Q.isError,I=g.useState([]),R=(0,l.Z)(I,2),G=R[0],O=R[1];return g.useEffect((function(){var e;D||O((null===F||void 0===F||null===(e=F.data)||void 0===e?void 0:e.data)||[])}),[z,F]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.Z,{elevation:0,sx:{p:2,border:"1px solid #ccc",my:2},children:(0,N.jsxs)(u.ZP,{container:!0,rowGap:1,columnGap:1,alignItems:"center",justifyContent:"space-between",children:[(0,N.jsx)(u.ZP,{item:!0,xs:12,sm:8.7,children:(0,N.jsx)(s.ZP,{placeholder:"Search User",sx:C.Z,value:w,onChange:function(e){return y(e.target.value)},fullWidth:!0})}),(0,N.jsx)(u.ZP,{item:!0,xs:12,sm:3,children:(0,N.jsxs)(d.Z,{sx:(0,a.Z)({},C.Z),value:P("isActive")||"null",onChange:function(e){S("isActive","null"===e.target.value?void 0:e.target.value)},fullWidth:!0,children:[(0,N.jsx)(c.Z,{value:"null",selected:!0,children:"All"}),(0,N.jsx)(c.Z,{value:"true",children:"Active"}),(0,N.jsx)(c.Z,{value:"false",children:"Blocked"}),"/"]})})]})}),z&&(0,N.jsx)(h.Z,{alignItems:"center",py:2,pb:4,children:(0,N.jsx)(f.Z,{})}),null===G||void 0===G||null===(n=G.map)||void 0===n?void 0:n.call(G,(function(e,n){return(0,N.jsx)(g.Fragment,{children:(0,N.jsx)(A,{revItem:e,showProd:!!r,showUser:!!i,showAll:!r&&!i})},n)})),(0,N.jsx)(h.Z,{direction:"row",justifyContent:"flex-end",children:(0,N.jsx)(m.Z,{component:"div",count:(null===F||void 0===F||null===(t=F.data)||void 0===t?void 0:t.total)||0,page:Z,onPageChange:function(e,n){return b(n)},rowsPerPage:x,onRowsPerPageChange:function(e){return p(e.target.value)}})})]})}},4335:function(e,n,t){t.d(n,{JT:function(){return h},nx:function(){return l},r$:function(){return u},vu:function(){return d}});var r=t(2982),i=t(1933),a=t(7400),l=function(){return(0,i.useQuery)(["get-feed-images"],(function(){return a.ZP.get("feed/image")}),{})},o=function(e){return a.ZP.delete("feed/image/".concat(e))},u=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(o,{onSuccess:function(){return e.invalidateQueries("get-feed-images")}})},s=function(e){return a.ZP.postForm("feed/image",e)},d=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(s,{onSuccess:function(){return e.invalidateQueries("get-feed-images")}})},c=function(e){return a.ZP.postForm("attachments",{"Files[]":(0,r.Z)(e)})},h=function(){return(0,i.useMutation)(c,{})}},1537:function(e,n,t){t.d(n,{Hl:function(){return u},Yz:function(){return l},dd:function(){return d},st:function(){return a}});var r=t(1933),i=t(7400),a=function(e){return(0,r.useQuery)(["get-all-customer",e],(function(){return function(e){return i.ZP.get("customer",{params:e})}(e)}),{})},l=function(e){return(0,r.useQuery)(["get-customer-by-id",e],(function(){return function(e){return i.ZP.get("customer/".concat(e))}(e)}),{})},o=function(e){var n=e.customer_id,t=e.data;return i.ZP.patch("customer/".concat(n),t)},u=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(o,{onSuccess:function(){e.invalidateQueries("get-all-store"),e.invalidateQueries("get-store-by-id")}})},s=function(e){return i.ZP.put("customer/".concat(e))},d=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(s,{onSuccess:function(){e.invalidateQueries("get-all-customer"),e.invalidateQueries("get-customer-by-id")}})}},4972:function(e,n,t){t.d(n,{Hw:function(){return a},J_:function(){return l},Ll:function(){return s},uy:function(){return o}});var r=t(1933),i=t(7400),a=function(e){return(0,r.useQuery)(["get-all-order",e],(function(){return function(e){return i.ZP.get("order",{params:e})}(e)}),{})},l=function(e,n){return(0,r.useQuery)(["get-user-orderlist-by-id",e,n],(function(){return function(e,n){return i.ZP.get("order/user/".concat(e,"?").concat(n.method&&"all"!==n.method?"status=".concat(n.method,"&"):"","limit=").concat(n.limit,"&page=").concat(n.page))}(e,n)}),{})},o=function(e){return(0,r.useQuery)(["get-products-by-order-id",e],(function(){return function(e){return i.ZP.get("order/".concat(e))}(e)}),{})},u=function(e){var n=e.id,t=e.status;return i.ZP.put("order/".concat(n,"?status=").concat(t))},s=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(u,{onSuccess:function(){e.invalidateQueries("get-all-order"),e.invalidateQueries("get-user-orderlist-by-id"),e.invalidateQueries("get-products-by-order-id")}})}},8152:function(e,n,t){t.d(n,{R:function(){return a},S:function(){return o}});var r=t(1933),i=t(7400),a=function(e){return(0,r.useQuery)(["get-all-review",e],(function(){return function(e){return i.ZP.get("review",{params:e})}(e)}),{})},l=function(e){return i.ZP.put("review/".concat(e))},o=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(l,{onSuccess:function(){e.invalidateQueries("get-all-review")}})}},8090:function(e,n){n.Z={bgcolor:"#f3f3f3",borderRadius:"4px",px:"10px",height:"52px",outline:"none","&, & *":{border:"transparent !important",outline:"none !important"}}}}]);
//# sourceMappingURL=415.3caba186.chunk.js.map