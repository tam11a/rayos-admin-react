"use strict";(self.webpackChunkrayos_admin_react=self.webpackChunkrayos_admin_react||[]).push([[617],{9515:function(e,t,n){var r=n(1413),i=n(6934),a=n(9891),o=(n(2791),n(184)),u=(0,i.ZP)((function(e){return(0,o.jsx)(a.Z,(0,r.Z)({focusVisibleClassName:".Mui-focusVisible"},e))}))((function(e){e.theme;return{width:44,height:26,padding:5,"& .MuiSwitch-switchBase":{margin:1,padding:6,transform:"translateX(0px)","&.Mui-checked":{color:"#fff",transform:"translateX(18px)"},"&.Mui-checked + .MuiSwitch-track":{}},"& .MuiSwitch-thumb":{width:12,height:12},"& .MuiSwitch-track":{borderRadius:16}}}));t.Z=u},1157:function(e,t,n){var r=n(6934),i=n(703),a=(0,r.ZP)(i.Z)((function(e){e.theme;return{padding:"10px",boxShadow:"unset",border:"2px solid #00000011"}}));t.Z=a},1852:function(e,t,n){var r=n(6934),i=n(3896),a=(0,r.ZP)(i.Z)((function(e){var t=e.theme;return{textTransform:"none",fontSize:{xs:"0.7rem",md:"1rem"},fontWeight:"600",borderRadius:"50px","&:hover":{opacity:1,color:t.palette.black.main},"&.Mui-selected":{color:t.palette.black.contrastText,background:t.palette.black.main},"&.Mui-focusVisible":{backgroundColor:"#d1eaff"}}}));t.Z=a},8377:function(e,t,n){var r=n(6934),i=n(9124),a=(0,r.ZP)(i.Z)((function(e){e.theme;return{boxShadow:"0px 4px 25px rgba(0, 0, 0, 0.1)",borderRadius:"50px","& .MuiTabs-flexContainer":{justifyContent:"space-between"},"& .MuiTabs-flexContainer > *":{flex:1},"& .MuiTabs-indicator":{backgroundColor:"transparent"}}}));t.Z=a},384:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(1413),i=n(5987),a=n(8870),o=n(2808),u=(n(2791),n(6934)),s=n(184),c=(0,u.ZP)("div")((function(e){var t=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===t.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===t.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===t.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===t.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===t.palette.mode?"0.8":"0.08",fill:"light"===t.palette.mode?"#f5f5f5":"#fff"}}}));function l(){return(0,s.jsxs)(c,{children:[(0,s.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,s.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,s.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,s.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,s.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,s.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,s.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,s.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,s.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,s.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,s.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,s.jsx)(a.Z,{sx:{mt:1},children:"No Data Found!"})]})}var d=["columns","rows","isLoading","onCellClick"],f=function(e){var t=e.columns,n=e.rows,u=e.isLoading,c=(e.onCellClick,(0,i.Z)(e,d));return(0,s.jsx)(a.Z,{sx:{height:u||!n.length?"400px":"fit-content","& .MuiDataGrid-columnHeaders":{backgroundColor:"#E5E5E5",color:"black",fontWeight:900,fontSize:14}},children:(0,s.jsx)(o._,(0,r.Z)({headerAlign:!0,disableColumnMenu:!0,disableColumnFilter:!0,disableSelectionOnClick:!0,rowsPerPageOptions:[5,10,25,50,100],autoHeight:!(u||!n.length),columns:t,rows:n,loading:u,components:{NoRowsOverlay:l},sx:{"& .MuiDataGrid-columnHeader:focus-within, & .MuiDataGrid-cell:focus-within":{outline:"none !important"}}},c))})}},6930:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(1413),i=n(4165),a=n(5861),o=n(885),u=n(5987),s=n(2791),c=n(7831),l=n(8870),d=n(3044),f=n(3400),x=n(890);var g=n.p+"static/media/ImageUploadIconPreview.ef03b177a4b3ff4e67d793aff4f62a46.svg",p=n(6856),h=n(7589),v=n(184),m=["onChange","maxSize","extension","defaultValue","onDelete"],Z=function(e){var t=e.getRootProps,n=e.getInputProps,i=e.isDragActive,a=e.isImageAdded;return(0,v.jsxs)("div",(0,r.Z)((0,r.Z)({style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:"15px"}},t()),{},{children:[(0,v.jsx)("input",(0,r.Z)({},n())),i?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(x.Z,{variant:"overline",sx:{textTransform:"capitalize",color:"#666"},children:"DROP HERE!"})}):(0,v.jsx)(v.Fragment,{children:!a&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("img",{src:g,alt:"drag file here",height:"45px",style:{marginLeft:"8px",pointerEvents:"none",userSelect:"none"}}),(0,v.jsx)(x.Z,{variant:"overline",sx:{textTransform:"capitalize",color:"#aaa"},children:"Drag File Here"})]})})]}))},y=function(e){var t=e.onChange,n=e.maxSize,x=e.extension,g=e.defaultValue,y=e.onDelete,j=(0,u.Z)(e,m),b=s.useContext(h.Z),w=(0,s.useState)([]),C=(0,o.Z)(w,2),S=C[0],P=C[1],k=(0,c.uI)({accept:x||[],minSize:0,maxSize:n||5242880,multiple:!0,onDropAccepted:function(e){P(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))},onDropRejected:function(e){b.createSnack(e[0].errors[0].message,"error")}}),E=k.getRootProps,M=k.getInputProps,F=k.isDragActive,D=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:e.sent||P([]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){!S.length||g&&S[0].preview===g.preview||"function"===typeof t&&D(S)}),[S]),(0,s.useEffect)((function(){g&&P([g])}),[g]),(0,v.jsxs)(l.Z,(0,r.Z)((0,r.Z)({sx:(0,r.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"125px",width:"125px",border:"2px dashed",borderColor:"#00000022",rowGap:.5},j.sx)},j),{},{children:[(0,v.jsx)(Z,{getRootProps:E,getInputProps:M,isDragActive:F,isImageAdded:!!S.length}),S.length?(0,v.jsxs)(l.Z,{sx:{position:"absolute",height:"125px",width:"125px",p:1,"&:hover > div":{display:"flex"}},children:[(0,v.jsx)(d.Z,{src:S[0].preview,alt:S[0].name,style:{height:"108px",width:"108px",m:"12px",borderRadius:0}}),(0,v.jsx)(l.Z,{sx:{display:"none",alignItems:"center",justifyContent:"center",flexDirection:"row",height:"100%",width:"100%",background:"#2D323Faa",position:"absolute",top:0,left:0},children:(0,v.jsx)(f.Z,{color:"secondary",onClick:(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof y){e.next=5;break}return e.next=3,y(S[0]);case 3:e.sent&&P([]);case 5:case"end":return e.stop()}}),e)}))),children:(0,v.jsx)(p.ZkW,{})})})]}):(0,v.jsx)(v.Fragment,{})]}))}},1795:function(e,t,n){var r=n(6934),i=n(4834),a=(0,r.ZP)(i.ZP)((function(e){e.theme;return{background:"rgba(0, 0, 0, 0.05)",borderRadius:"2px",padding:"7px 15px",fontWeight:"400"}}));t.Z=a},9508:function(e,t,n){var r=n(885),i=n(6125),a=n(4070),o=n(2791),u=n(184);t.Z=function(e){var t=e.err,n=o.useState(!1),s=(0,r.Z)(n,2),c=s[0],l=s[1];return o.useEffect((function(){return l(!!t)}),[t]),(0,u.jsx)(i.Z,{in:c,sx:{width:"100%"},children:(0,u.jsx)(a.Z,{severity:"error",sx:{width:"100%"},onClose:function(){return l(!1)},children:"required"===(null===t||void 0===t?void 0:t.type)?"This Field is Required!":(null===t||void 0===t?void 0:t.message)||"Something wrong here!"})})}},5612:function(e,t,n){var r=n(4942),i=n(1413),a=n(885),o=n(2791);t.Z=function(e){var t,n,u,s,c=o.useState({limit:(null===e||void 0===e||null===(t=e.defaultParams)||void 0===t?void 0:t.limit)||10,page:(null===e||void 0===e||null===(n=e.defaultParams)||void 0===n?void 0:n.page)||1,search:(null===e||void 0===e||null===(u=e.defaultParams)||void 0===u?void 0:u.search)||"",filters:(null===e||void 0===e||null===(s=e.defaultParams)||void 0===s?void 0:s.filter)||{}}),l=(0,a.Z)(c,2),d=l[0],f=l[1];return{params:d,search:null===d||void 0===d?void 0:d.search,setSearch:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{search:e}))},page:((null===d||void 0===d?void 0:d.page)||1)-1,setPage:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{page:e+1}))},limit:null===d||void 0===d?void 0:d.limit,setLimit:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{limit:e}))},watch:function(e){var t;return(null===d||void 0===d||null===(t=d.filters)||void 0===t?void 0:t[e])||void 0},setFilterField:function(e,t){return f((0,i.Z)((0,i.Z)({},d),{},{filters:(0,i.Z)((0,i.Z)({},null===d||void 0===d?void 0:d.filters),{},(0,r.Z)({},e,t))}))},getQueryParams:function(){return JSON.parse(JSON.stringify((0,i.Z)((0,i.Z)({},d),{},{filters:void 0},d.filters)))}}}},7617:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var r=n(1413),i=n(885),a=n(266),o=n(1889),u=n(2791),s=n(1087),c=n(1852),l=n(8377),d=n(4165),f=n(5861),x=n(890),g=n(3767),p=n(68),h=n(4518),v=n(1134),m=n(7689),Z=n(9515),y=n(1157),j=n(6930),b=n(1795),w=n(7589),C=n(4335),S=n(6112),P=n(7400),k=n(5239),E=n(184),M=function(){var e,t,n,s,c,l,M,F=u.useContext(w.Z),D=(0,m.UO)().cid,Q=u.useState(!1),z=(0,i.Z)(Q,2),A=(z[0],z[1],(0,v.cI)()),I=A.register,N=A.reset,W=A.handleSubmit,L=A.formState,R=(L.errors,L.isDirty),G=(0,S.aq)(D),V=G.data,H=G.isLoading;G.isError;u.useEffect((function(){var e,t,n,r,i,a,o,u;V&&(R||N({titleEn:null===V||void 0===V||null===(e=V.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.titleEn,titleBn:null===V||void 0===V||null===(n=V.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.titleBn,descriptionEn:null===V||void 0===V||null===(i=V.data)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.descriptionEn,descriptionBn:null===V||void 0===V||null===(o=V.data)||void 0===o||null===(u=o.data)||void 0===u?void 0:u.descriptionBn}))}),[V]);var U=(0,S.Ny)(),_=U.mutateAsync,O=U.isLoading,B=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return _({id:D,data:t})}),[200]);case 2:(n=e.sent).status?F.createSnack(n.msg):F.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=(0,C.JT)().mutateAsync,q=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n,r,i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return T(t)}),[201]);case 2:if(!(i=e.sent).status){e.next=8;break}return e.next=6,B({icon:null===(n=i.data)||void 0===n||null===(r=n[0])||void 0===r?void 0:r._id});case 6:e.next=9;break;case 8:F.createSnack(i.msg,"error");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=(0,S.Ee)().mutateAsync,X=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return J(t)}));case 2:(n=e.sent).status?F.createSnack(n.msg):F.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(a.Z,{sx:{py:2},children:(0,E.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,E.jsx)(x.Z,{variant:"h6",sx:{fontWeight:"500"},children:"Information"}),(0,E.jsxs)(y.Z,{sx:{"& form > *":{mt:1}},children:[(0,E.jsxs)(g.Z,{direction:"row",justifyContent:"space-between",children:[(0,E.jsx)(j.Z,{defaultValue:(null===V||void 0===V||null===(e=V.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.icon)&&{preview:(0,P.FG)(null===V||void 0===V||null===(n=V.data)||void 0===n||null===(s=n.data)||void 0===s||null===(c=s.icon)||void 0===c?void 0:c._id)},onChange:q,onDelete:function(){return!0}}),(0,E.jsx)(p.Z,{title:"deactivate",placement:"top",children:(0,E.jsx)(Z.Z,{checked:null===V||void 0===V||null===(l=V.data)||void 0===l||null===(M=l.data)||void 0===M?void 0:M.isActive,color:"success",onClick:function(){var e,t;X(null===V||void 0===V||null===(e=V.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t._id)}})})]}),(0,E.jsxs)("form",{onSubmit:W(B),children:[(0,E.jsx)(x.Z,{children:"Name "}),(0,E.jsx)(b.Z,(0,r.Z)({fullWidth:!0,placeholder:"Enter Category Name "},I("titleEn",{required:!0}))),(0,E.jsx)(x.Z,{children:"Description "}),(0,E.jsx)(b.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,placeholder:"Enter Description "},I("descriptionEn",{required:!0})),{},{multiline:!0,minRows:5})),(0,E.jsx)(h.Z,{variant:"contained",color:"primary",size:"large",sx:{height:"52px",mt:1},type:"submit",fullWidth:!0,disabled:O||H||!R,children:"Update Category"})]})]})]})})})},F=n(703),D=n(4834),Q=n(3400),z=n(6598),A=n(6856),I=n(384),N=n(8090),W=n(9953),L=n(493),R=n(5021),G=n(9900),V=n(7482),H=n(4721),U=n(7692),_=n(9508),O=function(e){var t=e.open,n=e.onClose,i=e.categoryId,a=u.useContext(w.Z),o=(0,v.cI)(),s=o.register,c=o.reset,l=o.handleSubmit,x=o.formState,g=x.errors,p=x.isDirty,m=(0,S.E6)(),Z=m.mutateAsync,y=m.isLoading,j=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return Z((0,r.Z)((0,r.Z)({},t),{},{category:i}))}),[201]);case 2:(o=e.sent).status?(a.createSnack(o.msg),c(),n()):a.createSnack(o.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,E.jsx)(W.ZP,{open:t,onClose:n,anchor:"right",PaperProps:{sx:{width:"95vw",maxWidth:"400px"}},children:(0,E.jsxs)("form",{onSubmit:l(j),children:[(0,E.jsxs)(L.Z,{disablePadding:!0,children:[(0,E.jsxs)(R.ZP,{children:[(0,E.jsx)(G.Z,{primary:"Create Subcategory",secondary:"Create Subcategory for Products"}),p&&(0,E.jsx)(Q.Z,{size:"small",color:"black",onClick:function(){return c()},children:(0,E.jsx)(U.oAZ,{})}),(0,E.jsx)(Q.Z,{size:"small",onClick:n,children:(0,E.jsx)(A.FU5,{})})]}),y?(0,E.jsx)(V.Z,{}):(0,E.jsx)(H.Z,{sx:{mb:1}}),(0,E.jsxs)(R.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1},children:["Name *",(0,E.jsx)(D.ZP,(0,r.Z)((0,r.Z)({sx:N.Z,placeholder:"Enter Category Name"},s("titleEn",{required:!0})),{},{fullWidth:!0})),(0,E.jsx)(_.Z,{err:g.titleEn})]})]}),(0,E.jsx)(R.ZP,{children:(0,E.jsx)(h.Z,{variant:"contained",type:"submit",disabled:y,fullWidth:!0,children:"Create"})})]})})},B=n(6355),T=function(e){var t=e.open,n=e.onClose,i=e.info,a=u.useContext(w.Z),o=(0,v.cI)({defaultValues:{titleEn:null===i||void 0===i?void 0:i.titleEn,titleBn:null===i||void 0===i?void 0:i.titleBn}}),s=o.register,c=o.reset,l=o.setValue,x=o.handleSubmit,g=o.formState,p=g.errors,m=g.isDirty;u.useEffect((function(){i&&!m&&l("titleEn",null===i||void 0===i?void 0:i.titleEn)}),[i]);var Z=(0,S.Gb)(),y=Z.mutateAsync,j=Z.isLoading,b=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return y({id:null===i||void 0===i?void 0:i._id,data:t})}));case 2:(r=e.sent).status?(a.createSnack(r.msg),c(),n()):a.createSnack(r.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,E.jsx)(W.ZP,{open:t,onClose:n,anchor:"right",PaperProps:{sx:{width:"95vw",maxWidth:"400px"}},children:(0,E.jsxs)("form",{onSubmit:x(b),children:[(0,E.jsxs)(L.Z,{disablePadding:!0,children:[(0,E.jsxs)(R.ZP,{children:[(0,E.jsx)(G.Z,{primary:"Update Subcategory",secondary:"Update Subcategory Information"}),m&&(0,E.jsx)(Q.Z,{size:"small",color:"black",onClick:function(){return c({titleEn:null===i||void 0===i?void 0:i.titleEn,titleBn:null===i||void 0===i?void 0:i.titleBn})},children:(0,E.jsx)(U.oAZ,{})}),(0,E.jsx)(Q.Z,{size:"small",onClick:n,children:(0,E.jsx)(A.FU5,{})})]}),j?(0,E.jsx)(V.Z,{}):(0,E.jsx)(H.Z,{sx:{mb:1}}),(0,E.jsxs)(R.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1},children:["Name *",(0,E.jsx)(D.ZP,(0,r.Z)((0,r.Z)({sx:N.Z,placeholder:"Enter Category Name"},s("titleEn",{required:!0})),{},{fullWidth:!0})),(0,E.jsx)(_.Z,{err:p.titleEn})]})]}),(0,E.jsx)(R.ZP,{children:(0,E.jsx)(h.Z,{variant:"contained",type:"submit",disabled:j,fullWidth:!0,children:"Update"})})]})})},q=n(5612),J=function(e){var t=e.info,n=u.useState(!1),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=function(){return o(!a)};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Q.Z,{size:"small",color:"primary",onClick:s,children:(0,E.jsx)(B.bdS,{})}),(0,E.jsx)(T,{open:a,onClose:s,info:t})]})},X=function(){var e,t,n,r=u.useContext(w.Z),a=(0,m.UO)().cid,s=(0,q.Z)(),c=s.limit,l=s.setLimit,g=s.page,p=s.setPage,v=s.search,y=s.setSearch,j=(s.watch,s.setFilterField,s.getQueryParams),b=(0,S.L8)(a,j()),C=b.data,P=b.isLoading,M=(b.isError,u.useState(!1)),Q=(0,i.Z)(M,2),W=Q[0],L=Q[1],R=function(){return L(!W)},G=(0,S.Ee)().mutateAsync,V=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return G(t)}));case 2:(n=e.sent).status?r.createSnack(n.msg):r.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=[{headerName:"",headerAlign:"center",field:"actions",align:"center",width:50,sortable:!1,renderCell:function(e){return(0,E.jsx)(J,{info:null===e||void 0===e?void 0:e.row})}},{headerName:"Name",field:"titleEn",minWidth:120,flex:1},{headerName:"Products",headerAlign:"center",field:"totalProducts",align:"center",sortable:!0},{headerName:"Status",headerAlign:"center",field:"isActive",align:"center",sortable:!1,renderCell:function(e){var t;return(0,E.jsx)(Z.Z,{checked:null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.isActive,color:"success",onClick:function(){var t;return V(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t._id)}})}}];return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(z.Z,{sx:{py:2},children:[(0,E.jsx)(x.Z,{variant:"h6",sx:{fontWeight:"500",mt:2},children:"Subcategory"}),(0,E.jsxs)(x.Z,{sx:{fontWeight:"500"},variant:"subtitle2",children:[(null===C||void 0===C||null===(e=C.data)||void 0===e?void 0:e.total)||0," Subcategories Found"]}),(0,E.jsx)(F.Z,{elevation:0,sx:{p:2,border:"1px solid #ccc",my:2},children:(0,E.jsxs)(o.ZP,{container:!0,rowGap:1,columnGap:1,alignItems:"center",justifyContent:"space-between",children:[(0,E.jsx)(o.ZP,{item:!0,xs:12,md:8.8,children:(0,E.jsx)(D.ZP,{placeholder:"Search Subcategory",sx:N.Z,value:v,onChange:function(e){return y(e.target.value)},fullWidth:!0})}),(0,E.jsx)(o.ZP,{item:!0,xs:12,md:3,children:(0,E.jsx)(h.Z,{variant:"contained",color:"primary",size:"large",sx:{height:"52px"},startIcon:(0,E.jsx)(A.x06,{}),onClick:R,fullWidth:!0,children:"Add Subcategory"})})]})}),(0,E.jsx)(I.Z,{columns:H,rows:(null===C||void 0===C||null===(t=C.data)||void 0===t?void 0:t.data)||[],getRowId:function(e){return e._id},isLoading:P,width:"auto",paginationMode:"server",rowCount:(null===C||void 0===C||null===(n=C.data)||void 0===n?void 0:n.total)||0,page:g,onPageChange:p,pageSize:c,onPageSizeChange:l}),(0,E.jsx)(O,{open:W,onClose:R,categoryId:a})]})})},$=n(7047),K=function(){var e,t,n,r=(0,m.UO)().cid,o=u.useContext(w.Z),s=u.useState([]),c=(0,i.Z)(s,2),l=c[0],x=c[1],g=(0,S.SA)(r),p=g.data,h=g.isLoading,v=(0,S.g0)().mutateAsync,Z=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return v(t)}));case 2:(n=e.sent).status?o.createSnack(n.msg):o.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=(0,S.pE)().mutateAsync,C=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return b({id:r,data:{"Files[]":t}})}),[201]);case 2:(n=e.sent).status?o.createSnack(n.msg):o.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.useEffect((function(){var e;p&&x((null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.data)||[])}),[p]),(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(a.Z,{sx:{py:2},children:(0,E.jsxs)(y.Z,{sx:{my:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap",rowGap:1,columnGap:1,border:0},children:[h&&(null===(e=[1,2,3,4])||void 0===e||null===(t=e.map)||void 0===t?void 0:t.call(e,(function(e){return(0,E.jsx)($.Z,{variant:"rectangular",height:"125px",width:"125px"})}))),null===l||void 0===l||null===(n=l.map)||void 0===n?void 0:n.call(l,(function(e){return(0,E.jsx)(u.Fragment,{children:(0,E.jsx)(j.Z,{defaultValue:{preview:(0,P.FG)(e.image),id:e._id},onDelete:function(e){return Z(e.id)}})},e._id)})),(0,E.jsx)(j.Z,{onChange:function(e){return C(e)}})]})})})},Y=function(){var e=(0,s.lr)(),t=(0,i.Z)(e,2),n=t[0],u=t[1];return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(a.Z,{sx:{pt:1},children:[(0,E.jsx)(o.ZP,{container:!0,rowGap:1,columnGap:1,sx:{mt:2},children:(0,E.jsxs)(l.Z,{value:n.get("tab"),sx:{minWidth:{xs:"90vw",sm:"350px"},maxWidth:"95vw",mx:"auto",my:2},children:[(0,E.jsx)(c.Z,{value:null,label:"Info",onClick:function(){delete n.tab,u((0,r.Z)({},n))}}),(0,E.jsx)(c.Z,{value:"subCatagory",label:"Subcatagory",onClick:function(){return u((0,r.Z)((0,r.Z)({},n),{},{tab:"subCatagory"}))}}),(0,E.jsx)(c.Z,{value:"gallary",label:"Gallary",onClick:function(){return u((0,r.Z)((0,r.Z)({},n),{},{tab:"gallary"}))}})]})}),"subCatagory"===n.get("tab")?(0,E.jsx)(X,{}):"gallary"===n.get("tab")?(0,E.jsx)(K,{}):(0,E.jsx)(M,{})]})})}},4335:function(e,t,n){n.d(t,{JT:function(){return f},nx:function(){return o},r$:function(){return s},vu:function(){return l}});var r=n(2982),i=n(1933),a=n(7400),o=function(){return(0,i.useQuery)(["get-feed-images"],(function(){return a.ZP.get("feed/image")}),{})},u=function(e){return a.ZP.delete("feed/image/".concat(e))},s=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(u,{onSuccess:function(){return e.invalidateQueries("get-feed-images")}})},c=function(e){return a.ZP.postForm("feed/image",e)},l=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(c,{onSuccess:function(){return e.invalidateQueries("get-feed-images")}})},d=function(e){return a.ZP.postForm("attachments",{"Files[]":(0,r.Z)(e)})},f=function(){return(0,i.useMutation)(d,{})}},6112:function(e,t,n){n.d(t,{E6:function(){return d},Ee:function(){return y},Gb:function(){return x},HL:function(){return c},L8:function(){return h},Ny:function(){return p},S1:function(){return m},SA:function(){return j},aq:function(){return u},g0:function(){return w},hU:function(){return o},pE:function(){return S}});var r=n(1413),i=n(1933),a=n(7400),o=function(e){return(0,i.useQuery)(["get-all-category",e],(function(){return function(e){return a.ZP.get("category",{params:e})}(e)}),{})},u=function(e){return(0,i.useQuery)(["get-category",e],(function(){return function(e){return a.ZP.get("category/".concat(e))}(e)}),{enabled:!!e})},s=function(e){return a.ZP.post("category",e)},c=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(s,{onSuccess:function(){return e.invalidateQueries("get-all-category")}})},l=function(e){return a.ZP.post("subcategory",e)},d=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(l,{onSuccess:function(){return e.invalidateQueries("get-sub-category-cat")}})},f=function(e){var t=e.id,n=e.data;return a.ZP.patch("subcategory/".concat(t),n)},x=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(f,{onSuccess:function(){return e.invalidateQueries("get-sub-category-cat")}})},g=function(e){var t=e.id,n=e.data;return a.ZP.patch("category/".concat(t),n)},p=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(g,{onSuccess:function(){e.invalidateQueries("get-all-category"),e.invalidateQueries("get-category")}})},h=function(e,t){return(0,i.useQuery)(["get-sub-category-cat",e,t],(function(){return function(e,t){return a.ZP.get("subcategory",{params:(0,r.Z)((0,r.Z)({},t),{},{category:e})})}(e,t)}),{enabled:!!e&&"null"!==e,retry:0})},v=function(e){return a.ZP.put("category/".concat(e))},m=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(v,{onSuccess:function(){return e.invalidateQueries("get-all-category")}})},Z=function(e){return a.ZP.put("subcategory/".concat(e))},y=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(Z,{onSuccess:function(){return e.invalidateQueries("get-sub-category-cat")}})},j=function(e){return(0,i.useQuery)(["get-category-images",e],(function(){return function(e){return a.ZP.get("category/".concat(e,"/images"))}(e)}),{enabled:!!e})},b=function(e){return a.ZP.delete("category/images/".concat(e))},w=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(b,{onSuccess:function(){return e.invalidateQueries("get-category-images")}})},C=function(e){var t=e.id,n=e.data;return a.ZP.postForm("category/".concat(t,"/images"),n)},S=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(C,{onSuccess:function(){return e.invalidateQueries("get-category-images")}})}},8090:function(e,t){t.Z={bgcolor:"#f3f3f3",borderRadius:"4px",px:"10px",height:"52px",outline:"none","&, & *":{border:"transparent !important",outline:"none !important"}}},6598:function(e,t,n){var r=(0,n(7184).Z)();t.Z=r}}]);
//# sourceMappingURL=617.f657aa20.chunk.js.map