"use strict";(self.webpackChunkrayos_admin_react=self.webpackChunkrayos_admin_react||[]).push([[340],{9515:function(e,t,n){var r=n(1413),i=n(6934),a=n(9891),u=(n(2791),n(184)),o=(0,i.ZP)((function(e){return(0,u.jsx)(a.Z,(0,r.Z)({focusVisibleClassName:".Mui-focusVisible"},e))}))((function(e){e.theme;return{width:44,height:26,padding:5,"& .MuiSwitch-switchBase":{margin:1,padding:6,transform:"translateX(0px)","&.Mui-checked":{color:"#fff",transform:"translateX(18px)"},"&.Mui-checked + .MuiSwitch-track":{}},"& .MuiSwitch-thumb":{width:12,height:12},"& .MuiSwitch-track":{borderRadius:16}}}));t.Z=o},384:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(1413),i=n(5987),a=n(8870),u=n(2808),o=(n(2791),n(6934)),c=n(184),s=(0,o.ZP)("div")((function(e){var t=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===t.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===t.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===t.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===t.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===t.palette.mode?"0.8":"0.08",fill:"light"===t.palette.mode?"#f5f5f5":"#fff"}}}));function l(){return(0,c.jsxs)(s,{children:[(0,c.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,c.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,c.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,c.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,c.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,c.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,c.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,c.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,c.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,c.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,c.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,c.jsx)(a.Z,{sx:{mt:1},children:"No Data Found!"})]})}var d=["columns","rows","isLoading","onCellClick"],f=function(e){var t=e.columns,n=e.rows,o=e.isLoading,s=(e.onCellClick,(0,i.Z)(e,d));return(0,c.jsx)(a.Z,{sx:{height:o||!n.length?"400px":"fit-content","& .MuiDataGrid-columnHeaders":{backgroundColor:"#E5E5E5",color:"black",fontWeight:900,fontSize:14}},children:(0,c.jsx)(u._,(0,r.Z)({headerAlign:!0,disableColumnMenu:!0,disableColumnFilter:!0,disableSelectionOnClick:!0,rowsPerPageOptions:[5,10,25,50,100],autoHeight:!(o||!n.length),columns:t,rows:n,loading:o,components:{NoRowsOverlay:l},sx:{"& .MuiDataGrid-columnHeader:focus-within, & .MuiDataGrid-cell:focus-within":{outline:"none !important"}}},s))})}},9508:function(e,t,n){var r=n(885),i=n(6125),a=n(4070),u=n(2791),o=n(184);t.Z=function(e){var t=e.err,n=u.useState(!1),c=(0,r.Z)(n,2),s=c[0],l=c[1];return u.useEffect((function(){return l(!!t)}),[t]),(0,o.jsx)(i.Z,{in:s,sx:{width:"100%"},children:(0,o.jsx)(a.Z,{severity:"error",sx:{width:"100%"},onClose:function(){return l(!1)},children:"required"===(null===t||void 0===t?void 0:t.type)?"This Field is Required!":(null===t||void 0===t?void 0:t.message)||"Something wrong here!"})})}},5612:function(e,t,n){var r=n(4942),i=n(1413),a=n(885),u=n(2791);t.Z=function(e){var t,n,o,c,s=u.useState({limit:(null===e||void 0===e||null===(t=e.defaultParams)||void 0===t?void 0:t.limit)||10,page:(null===e||void 0===e||null===(n=e.defaultParams)||void 0===n?void 0:n.page)||1,search:(null===e||void 0===e||null===(o=e.defaultParams)||void 0===o?void 0:o.search)||"",filters:(null===e||void 0===e||null===(c=e.defaultParams)||void 0===c?void 0:c.filter)||{}}),l=(0,a.Z)(s,2),d=l[0],f=l[1];return{params:d,search:null===d||void 0===d?void 0:d.search,setSearch:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{search:e}))},page:((null===d||void 0===d?void 0:d.page)||1)-1,setPage:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{page:e+1}))},limit:null===d||void 0===d?void 0:d.limit,setLimit:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{limit:e}))},watch:function(e){var t;return(null===d||void 0===d||null===(t=d.filters)||void 0===t?void 0:t[e])||void 0},setFilterField:function(e,t){return f((0,i.Z)((0,i.Z)({},d),{},{filters:(0,i.Z)((0,i.Z)({},null===d||void 0===d?void 0:d.filters),{},(0,r.Z)({},e,t))}))},getQueryParams:function(){return JSON.parse(JSON.stringify((0,i.Z)((0,i.Z)({},d),{},{filters:void 0},d.filters)))}}}},7340:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var r=n(4165),i=n(5861),a=n(885),u=n(2791),o=n(3400),c=n(3044),s=n(266),l=n(703),d=n(1889),f=n(4834),g=n(4518),h=n(384),m=n(6112),v=n(7400),p=n(9515),x=n(8090),y=n(6856),Z=n(1413),j=n(9953),C=n(493),P=n(5021),b=n(9900),w=n(7482),S=n(4721),M=n(1134),Q=n(7692),k=n(9508),N=n(7589),z=n(5239),E=n(184),L=function(e){var t=e.open,n=e.onClose,a=u.useContext(N.Z),c=(0,M.cI)(),s=c.register,l=c.reset,d=c.handleSubmit,h=c.formState,v=h.errors,p=h.isDirty,L=(0,m.HL)(),F=L.mutateAsync,A=L.isLoading,H=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,z.E)((function(){return F(t)}),[201]);case 2:(i=e.sent).status?(a.createSnack(i.msg),l(),n()):a.createSnack(i.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,E.jsx)(j.ZP,{open:t,onClose:n,anchor:"right",PaperProps:{sx:{width:"95vw",maxWidth:"400px"}},children:(0,E.jsx)("form",{onSubmit:d(H),children:(0,E.jsxs)(C.Z,{disablePadding:!0,children:[(0,E.jsxs)(P.ZP,{children:[(0,E.jsx)(b.Z,{primary:"Create Category",secondary:"Create Category for Products"}),p&&(0,E.jsx)(o.Z,{size:"small",color:"black",onClick:function(){return l()},children:(0,E.jsx)(Q.oAZ,{})}),(0,E.jsx)(o.Z,{size:"small",onClick:n,children:(0,E.jsx)(y.FU5,{})})]}),A?(0,E.jsx)(w.Z,{}):(0,E.jsx)(S.Z,{sx:{mb:1}}),(0,E.jsxs)(P.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1},children:["Category Name *",(0,E.jsx)(f.ZP,(0,Z.Z)((0,Z.Z)({sx:x.Z,placeholder:"Enter Category Name"},s("titleEn",{required:!0})),{},{fullWidth:!0})),(0,E.jsx)(k.Z,{err:v.titleEn})]}),(0,E.jsxs)(P.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1},children:["Description *",(0,E.jsx)(f.ZP,(0,Z.Z)((0,Z.Z)({sx:(0,Z.Z)((0,Z.Z)({},x.Z),{},{height:"unset",py:1}),placeholder:"Enter Description",multiline:!0,minRows:5},s("descriptionEn",{required:!0})),{},{fullWidth:!0})),(0,E.jsx)(k.Z,{err:v.descriptionEn})]}),(0,E.jsx)(P.ZP,{children:(0,E.jsx)(g.Z,{variant:"contained",type:"submit",disabled:A,fullWidth:!0,children:"Create"})})]})})})},F=n(6355),A=n(1087),H=n(3953),D=n(1866),G=n(5612),V=function(){var e,t,n,Z,j,C,P,b,w=u.useContext(N.Z),S=(0,G.Z)(),M=S.limit,Q=S.setLimit,k=S.page,V=S.setPage,W=S.search,_=S.setSearch,I=(S.watch,S.setFilterField,S.getQueryParams),q=(0,m.hU)(I()),O=q.data,R=q.isLoading,U=(0,D.tY)().data;console.log(U);var Y=u.useState(!1),B=(0,a.Z)(Y,2),J=B[0],T=B[1],X=(0,m.S1)().mutateAsync,K=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,z.E)((function(){return X(t)}));case 2:(n=e.sent).status?w.createSnack(n.msg):w.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=[{headerName:"",headerAlign:"center",field:"actions",align:"center",width:50,sortable:!1,renderCell:function(e){var t;return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(o.Z,{component:A.rU,size:"small",color:"primary",to:"/cat/".concat(null===(t=e.row)||void 0===t?void 0:t._id),children:(0,E.jsx)(F.bdS,{})})})}},{headerName:"Icon",headerAlign:"center",field:"receiver_number",align:"center",width:80,renderCell:function(e){return(0,E.jsx)(c.Z,{src:(0,v.FG)(e.row.icon),variant:"square"})}},{headerName:"Category Name",field:"titleEn",minWidth:120,flex:1},{headerName:"Subcategory",headerAlign:"center",field:"totalSubcategories",Width:120,align:"center"},{headerName:"Status",headerAlign:"center",field:"isActive",align:"center",sortable:!1,renderCell:function(e){return(0,E.jsx)(p.Z,{checked:e.row.isActive,color:"success",onClick:function(){var t;return K(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t._id)}})}}];return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(s.Z,{sx:{py:2},children:[(0,E.jsx)(H.Z,{stateList:[{num:null===U||void 0===U||null===(e=U.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.total,title:"Total Products"},{num:null===U||void 0===U||null===(n=U.data)||void 0===n||null===(Z=n.data)||void 0===Z?void 0:Z.active,title:"Published"},{num:null===U||void 0===U||null===(j=U.data)||void 0===j||null===(C=j.data)||void 0===C?void 0:C.blocked,title:"Unpublished"}]}),(0,E.jsx)(l.Z,{elevation:0,sx:{p:2,border:"1px solid #ccc",my:2},children:(0,E.jsxs)(d.ZP,{container:!0,rowGap:1,columnGap:1,alignItems:"center",justifyContent:"space-between",children:[(0,E.jsx)(d.ZP,{item:!0,xs:12,md:8.8,children:(0,E.jsx)(f.ZP,{placeholder:"Search Category",sx:x.Z,value:W,onChange:function(e){return _(e.target.value)},fullWidth:!0})}),(0,E.jsx)(d.ZP,{item:!0,xs:12,md:3,children:(0,E.jsx)(g.Z,{variant:"contained",color:"primary",size:"large",sx:{height:"52px"},startIcon:(0,E.jsx)(y.x06,{}),onClick:function(){return T(!J)},fullWidth:!0,children:"Add Category"})})]})})," ",(0,E.jsx)(h.Z,{columns:$,rows:(null===O||void 0===O||null===(P=O.data)||void 0===P?void 0:P.data)||[],isLoading:R,width:"auto",paginationMode:"server",rowCount:(null===O||void 0===O||null===(b=O.data)||void 0===b?void 0:b.total)||0,page:k,onPageChange:V,pageSize:M,onPageSizeChange:Q}),(0,E.jsx)(L,{open:J,onClose:function(){return T(!J)}})]})})}},6112:function(e,t,n){n.d(t,{E6:function(){return d},Ee:function(){return Z},Gb:function(){return g},HL:function(){return s},L8:function(){return v},Ny:function(){return m},S1:function(){return x},SA:function(){return j},aq:function(){return o},g0:function(){return P},hU:function(){return u},pE:function(){return w}});var r=n(1413),i=n(1933),a=n(7400),u=function(e){return(0,i.useQuery)(["get-all-category",e],(function(){return function(e){return a.ZP.get("category",{params:e})}(e)}),{})},o=function(e){return(0,i.useQuery)(["get-category",e],(function(){return function(e){return a.ZP.get("category/".concat(e))}(e)}),{enabled:!!e})},c=function(e){return a.ZP.post("category",e)},s=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(c,{onSuccess:function(){return e.invalidateQueries("get-all-category")}})},l=function(e){return a.ZP.post("subcategory",e)},d=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(l,{onSuccess:function(){return e.invalidateQueries("get-sub-category-cat")}})},f=function(e){var t=e.id,n=e.data;return a.ZP.patch("subcategory/".concat(t),n)},g=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(f,{onSuccess:function(){return e.invalidateQueries("get-sub-category-cat")}})},h=function(e){var t=e.id,n=e.data;return a.ZP.patch("category/".concat(t),n)},m=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(h,{onSuccess:function(){e.invalidateQueries("get-all-category"),e.invalidateQueries("get-category")}})},v=function(e,t){return(0,i.useQuery)(["get-sub-category-cat",e,t],(function(){return function(e,t){return a.ZP.get("subcategory",{params:(0,r.Z)((0,r.Z)({},t),{},{category:e})})}(e,t)}),{enabled:!!e&&"null"!==e,retry:0})},p=function(e){return a.ZP.put("category/".concat(e))},x=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(p,{onSuccess:function(){return e.invalidateQueries("get-all-category")}})},y=function(e){return a.ZP.put("subcategory/".concat(e))},Z=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(y,{onSuccess:function(){return e.invalidateQueries("get-sub-category-cat")}})},j=function(e){return(0,i.useQuery)(["get-category-images",e],(function(){return function(e){return a.ZP.get("category/".concat(e,"/images"))}(e)}),{enabled:!!e})},C=function(e){return a.ZP.delete("category/images/".concat(e))},P=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(C,{onSuccess:function(){return e.invalidateQueries("get-category-images")}})},b=function(e){var t=e.id,n=e.data;return a.ZP.postForm("category/".concat(t,"/images"),n)},w=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(b,{onSuccess:function(){return e.invalidateQueries("get-category-images")}})}},1866:function(e,t,n){n.d(t,{FU:function(){return o},oY:function(){return c},tY:function(){return s},uQ:function(){return a},xf:function(){return u}});var r=n(1933),i=n(7400),a=function(){return(0,r.useQuery)(["get-product-stats"],(function(){return i.ZP.get("stats/product")}),{})},u=function(){return(0,r.useQuery)(["get-customer-stats"],(function(){return i.ZP.get("stats/customer")}),{})},o=function(){return(0,r.useQuery)(["get-store-stats"],(function(){return i.ZP.get("stats/store")}),{})},c=function(){return(0,r.useQuery)(["get-orders-stats"],(function(){return i.ZP.get("stats/order")}),{})},s=function(){return(0,r.useQuery)(["get-category-stats"],(function(){return i.ZP.get("stats/category")}),{})}},8090:function(e,t){t.Z={bgcolor:"#f3f3f3",borderRadius:"4px",px:"10px",height:"52px",outline:"none","&, & *":{border:"transparent !important",outline:"none !important"}}}}]);
//# sourceMappingURL=340.7c87d14f.chunk.js.map