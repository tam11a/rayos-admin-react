"use strict";(self.webpackChunkrayos_admin_react=self.webpackChunkrayos_admin_react||[]).push([[925],{9515:function(e,t,n){var r=n(1413),i=n(6934),a=n(9891),u=(n(2791),n(184)),o=(0,i.ZP)((function(e){return(0,u.jsx)(a.Z,(0,r.Z)({focusVisibleClassName:".Mui-focusVisible"},e))}))((function(e){e.theme;return{width:44,height:26,padding:5,"& .MuiSwitch-switchBase":{margin:1,padding:6,transform:"translateX(0px)","&.Mui-checked":{color:"#fff",transform:"translateX(18px)"},"&.Mui-checked + .MuiSwitch-track":{}},"& .MuiSwitch-thumb":{width:12,height:12},"& .MuiSwitch-track":{borderRadius:16}}}));t.Z=o},1157:function(e,t,n){var r=n(6934),i=n(703),a=(0,r.ZP)(i.Z)((function(e){e.theme;return{padding:"10px",boxShadow:"unset",border:"2px solid #00000011"}}));t.Z=a},1852:function(e,t,n){var r=n(6934),i=n(3896),a=(0,r.ZP)(i.Z)((function(e){var t=e.theme;return{textTransform:"none",fontSize:{xs:"0.7rem",md:"1rem"},fontWeight:"600",borderRadius:"50px","&:hover":{opacity:1,color:t.palette.black.main},"&.Mui-selected":{color:t.palette.black.contrastText,background:t.palette.black.main},"&.Mui-focusVisible":{backgroundColor:"#d1eaff"}}}));t.Z=a},8377:function(e,t,n){var r=n(6934),i=n(9124),a=(0,r.ZP)(i.Z)((function(e){e.theme;return{boxShadow:"0px 4px 25px rgba(0, 0, 0, 0.1)",borderRadius:"50px","& .MuiTabs-flexContainer":{justifyContent:"space-between"},"& .MuiTabs-flexContainer > *":{flex:1},"& .MuiTabs-indicator":{backgroundColor:"transparent"}}}));t.Z=a},6930:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(1413),i=n(4165),a=n(5861),u=n(885),o=n(5987),c=n(2791),l=n(7831),s=n(8870),d=n(3044),f=n(3400),v=n(890);var x=n.p+"static/media/ImageUploadIconPreview.ef03b177a4b3ff4e67d793aff4f62a46.svg",p=n(6856),g=n(7589),Z=n(184),h=["onChange","maxSize","extension","defaultValue","onDelete"],m=function(e){var t=e.getRootProps,n=e.getInputProps,i=e.isDragActive,a=e.isImageAdded;return(0,Z.jsxs)("div",(0,r.Z)((0,r.Z)({style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:"15px"}},t()),{},{children:[(0,Z.jsx)("input",(0,r.Z)({},n())),i?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(v.Z,{variant:"overline",sx:{textTransform:"capitalize",color:"#666"},children:"DROP HERE!"})}):(0,Z.jsx)(Z.Fragment,{children:!a&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("img",{src:x,alt:"drag file here",height:"45px",style:{marginLeft:"8px",pointerEvents:"none",userSelect:"none"}}),(0,Z.jsx)(v.Z,{variant:"overline",sx:{textTransform:"capitalize",color:"#aaa"},children:"Drag File Here"})]})})]}))},y=function(e){var t=e.onChange,n=e.maxSize,v=e.extension,x=e.defaultValue,y=e.onDelete,j=(0,o.Z)(e,h),b=c.useContext(g.Z),w=(0,c.useState)([]),P=(0,u.Z)(w,2),S=P[0],C=P[1],k=(0,l.uI)({accept:v||[],minSize:0,maxSize:n||5242880,multiple:!0,onDropAccepted:function(e){C(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))},onDropRejected:function(e){b.createSnack(e[0].errors[0].message,"error")}}),Q=k.getRootProps,E=k.getInputProps,F=k.isDragActive,I=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:e.sent||C([]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){!S.length||x&&S[0].preview===x.preview||"function"===typeof t&&I(S)}),[S]),(0,c.useEffect)((function(){x&&C([x])}),[x]),(0,Z.jsxs)(s.Z,(0,r.Z)((0,r.Z)({sx:(0,r.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"125px",width:"125px",border:"2px dashed",borderColor:"#00000022",rowGap:.5},j.sx)},j),{},{children:[(0,Z.jsx)(m,{getRootProps:Q,getInputProps:E,isDragActive:F,isImageAdded:!!S.length}),S.length?(0,Z.jsxs)(s.Z,{sx:{position:"absolute",height:"125px",width:"125px",p:1,"&:hover > div":{display:"flex"}},children:[(0,Z.jsx)(d.Z,{src:S[0].preview,alt:S[0].name,style:{height:"108px",width:"108px",m:"12px",borderRadius:0}}),(0,Z.jsx)(s.Z,{sx:{display:"none",alignItems:"center",justifyContent:"center",flexDirection:"row",height:"100%",width:"100%",background:"#2D323Faa",position:"absolute",top:0,left:0},children:(0,Z.jsx)(f.Z,{color:"secondary",onClick:(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof y){e.next=5;break}return e.next=3,y(S[0]);case 3:e.sent&&C([]);case 5:case"end":return e.stop()}}),e)}))),children:(0,Z.jsx)(p.ZkW,{})})})]}):(0,Z.jsx)(Z.Fragment,{})]}))}},1795:function(e,t,n){var r=n(6934),i=n(4834),a=(0,r.ZP)(i.ZP)((function(e){e.theme;return{background:"rgba(0, 0, 0, 0.05)",borderRadius:"2px",padding:"7px 15px",fontWeight:"400"}}));t.Z=a},9508:function(e,t,n){var r=n(885),i=n(6125),a=n(4070),u=n(2791),o=n(184);t.Z=function(e){var t=e.err,n=u.useState(!1),c=(0,r.Z)(n,2),l=c[0],s=c[1];return u.useEffect((function(){return s(!!t)}),[t]),(0,o.jsx)(i.Z,{in:l,sx:{width:"100%"},children:(0,o.jsx)(a.Z,{severity:"error",sx:{width:"100%"},onClose:function(){return s(!1)},children:"required"===(null===t||void 0===t?void 0:t.type)?"This Field is Required!":(null===t||void 0===t?void 0:t.message)||"Something wrong here!"})})}},5612:function(e,t,n){var r=n(4942),i=n(1413),a=n(885),u=n(2791);t.Z=function(e){var t,n,o,c,l=u.useState({limit:(null===e||void 0===e||null===(t=e.defaultParams)||void 0===t?void 0:t.limit)||10,page:(null===e||void 0===e||null===(n=e.defaultParams)||void 0===n?void 0:n.page)||1,search:(null===e||void 0===e||null===(o=e.defaultParams)||void 0===o?void 0:o.search)||"",filters:(null===e||void 0===e||null===(c=e.defaultParams)||void 0===c?void 0:c.filter)||{}}),s=(0,a.Z)(l,2),d=s[0],f=s[1];return{params:d,search:null===d||void 0===d?void 0:d.search,setSearch:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{search:e}))},page:((null===d||void 0===d?void 0:d.page)||1)-1,setPage:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{page:e+1}))},limit:null===d||void 0===d?void 0:d.limit,setLimit:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{limit:e}))},watch:function(e){var t;return(null===d||void 0===d||null===(t=d.filters)||void 0===t?void 0:t[e])||void 0},setFilterField:function(e,t){return f((0,i.Z)((0,i.Z)({},d),{},{filters:(0,i.Z)((0,i.Z)({},null===d||void 0===d?void 0:d.filters),{},(0,r.Z)({},e,t))}))},getQueryParams:function(){return JSON.parse(JSON.stringify((0,i.Z)((0,i.Z)({},d),{},{filters:void 0},d.filters)))}}}},8925:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var r=n(1413),i=n(885),a=n(266),u=n(1889),o=n(2791),c=n(1087),l=n(1852),s=n(8377),d=n(4165),f=n(5861),v=n(890),x=n(3767),p=n(68),g=n(5021),Z=n(4518),h=n(4415),m=n(3786),y=n(1134),j=n(7689),b=n(9515),w=n(1157),P=n(6930),S=n(1795),C=n(9508),k=n(7589),Q=n(4335),E=n(6112),F=n(8792),I=n(7400),A=n(8090),M=n(5239),D=n(7692),G=n(184),_=function(){var e,t,n,l,s,_,R,W,T,U,V,z,O,L,q,B,N,H=o.useContext(k.Z),J=(0,j.UO)().pid,K=(0,y.cI)(),X=K.register,$=K.getValues,Y=K.reset,ee=K.watch,te=K.formState,ne=te.errors,re=te.isDirty,ie=o.useState({limit:1e3,page:1,filters:[]}),ae=(0,i.Z)(ie,1)[0],ue=(0,F.Ss)(J).data,oe=(0,F.vO)(),ce=oe.mutateAsync,le=oe.isLoading,se=(0,Q.JT)().mutateAsync,de=(0,E.hU)(ae).data,fe=(0,E.L8)(ee("category"),ae).data,ve=(0,F.au)().mutateAsync,xe=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.E)((function(){return ve(t)}));case 2:(n=e.sent).status?H.createSnack(n.msg):H.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(ue),o.useEffect((function(){var e,t,n,r,i,a,u,o,c,l,s,d,f,v,x,p,g,Z,h,m;ue&&(re||Y({titleEn:null===ue||void 0===ue||null===(e=ue.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.titleEn,titleBn:null===ue||void 0===ue||null===(n=ue.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.titleBn,descriptionEn:null===ue||void 0===ue||null===(i=ue.data)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.descriptionEn,descriptionBn:null===ue||void 0===ue||null===(u=ue.data)||void 0===u||null===(o=u.data)||void 0===o?void 0:o.descriptionBn,buyPrice:null===ue||void 0===ue||null===(c=ue.data)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.buyPrice,variantType:null===ue||void 0===ue||null===(s=ue.data)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.variantType,sellPrice:null===ue||void 0===ue||null===(f=ue.data)||void 0===f||null===(v=f.data)||void 0===v?void 0:v.sellPrice,category:null===ue||void 0===ue||null===(x=ue.data)||void 0===x||null===(p=x.data)||void 0===p||null===(g=p.category)||void 0===g?void 0:g._id,subcategory:null===ue||void 0===ue||null===(Z=ue.data)||void 0===Z||null===(h=Z.data)||void 0===h||null===(m=h.subcategory)||void 0===m?void 0:m._id}))}),[ue]);var pe=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n,r,i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.E)((function(){return se(t)}),[201]);case 2:if(!(i=e.sent).status){e.next=8;break}return e.next=6,ge({image:null===(n=i.data)||void 0===n||null===(r=n[0])||void 0===r?void 0:r._id});case 6:e.next=9;break;case 8:H.createSnack(i.msg,"error");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.E)((function(){return ce({product_id:J,data:t})}),[200]);case 2:(n=e.sent).status?H.createSnack(n.msg):H.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,G.jsx)(a.Z,{children:(0,G.jsxs)(u.ZP,{container:!0,rowGap:1,columnGap:1,sx:{mt:2},children:[(0,G.jsxs)(u.ZP,{item:!0,xs:12,md:6.9,children:[(0,G.jsx)(v.Z,{variant:"h6",sx:{fontWeight:"500"},children:"Information"}),(0,G.jsxs)(w.Z,{children:[(0,G.jsxs)(x.Z,{direction:"row",justifyContent:"space-between",children:[(0,G.jsx)(P.Z,{defaultValue:(null===ue||void 0===ue||null===(e=ue.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.image)&&{preview:(0,I.FG)(null===ue||void 0===ue||null===(n=ue.data)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.image)},onChange:pe,onDelete:function(){return!0}}),(0,G.jsx)(p.Z,{title:"deactivate",placement:"top",children:(0,G.jsx)(b.Z,{checked:null===ue||void 0===ue||null===(s=ue.data)||void 0===s||null===(_=s.data)||void 0===_?void 0:_.isActive,color:"success",onClick:function(){var e,t;xe(null===ue||void 0===ue||null===(e=ue.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t._id)}})})]}),(0,G.jsxs)(g.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1,p:0},children:[(0,G.jsx)(v.Z,{children:"Name"}),(0,G.jsx)(S.Z,(0,r.Z)({fullWidth:!0,placeholder:"Enter Product Name"},X("titleEn"))),(0,G.jsx)(C.Z,{err:ne.titleEn})]}),(0,G.jsxs)(g.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1,p:0},children:[(0,G.jsx)(v.Z,{children:"Description"}),(0,G.jsx)(S.Z,(0,r.Z)((0,r.Z)({fullWidth:!0,placeholder:"Enter Product Description"},X("descriptionEn")),{},{multiline:!0,minRows:5})),(0,G.jsx)(C.Z,{err:ne.descriptionEn})]})]})]}),(0,G.jsxs)(u.ZP,{item:!0,xs:12,md:4.9,children:[(0,G.jsx)(v.Z,{variant:"h6",sx:{fontWeight:"500"},children:"Additional Information"}),(0,G.jsxs)(w.Z,{children:[(0,G.jsxs)(g.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1,p:0},children:["Store",(0,G.jsx)(Z.Z,{sx:(0,r.Z)((0,r.Z)({},A.Z),{},{justifyContent:"flex-start",textTransform:"unset",px:2,mb:1}),startIcon:(0,G.jsx)(D.iFB,{}),component:c.rU,to:"/store/".concat(null===ue||void 0===ue||null===(R=ue.data)||void 0===R||null===(W=R.data)||void 0===W||null===(T=W.store)||void 0===T?void 0:T._id,"?tab=products"),fullWidth:!0,children:null===ue||void 0===ue||null===(U=ue.data)||void 0===U||null===(V=U.data)||void 0===V||null===(z=V.store)||void 0===z?void 0:z.titleEn})]}),(0,G.jsxs)(g.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1,p:0},children:["Category",(0,G.jsxs)(h.Z,(0,r.Z)((0,r.Z)({sx:A.Z,placeholder:"Select Category",fullWidth:!0},X("category")),{},{value:ee("category")||"null",children:[(0,G.jsx)(m.Z,{value:"null",disabled:!0,children:"Select Category"}),null===de||void 0===de||null===(O=de.data)||void 0===O||null===(L=O.data)||void 0===L?void 0:L.map((function(e){return(0,G.jsx)(m.Z,{value:e._id,children:e.titleEn},e._id)}))]})),(0,G.jsx)(C.Z,{err:ne.category})]}),(0,G.jsxs)(g.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1,p:0},children:["Sub Category",(0,G.jsxs)(h.Z,(0,r.Z)((0,r.Z)({sx:A.Z,placeholder:"Select Sub Category",disabled:!(null!==fe&&void 0!==fe&&null!==(q=fe.data)&&void 0!==q&&q.total),fullWidth:!0},X("subcategory")),{},{value:ee("subcategory")||"null",children:[(0,G.jsx)(m.Z,{value:"null",disabled:!0,children:"Select Sub Category"}),null===fe||void 0===fe||null===(B=fe.data)||void 0===B||null===(N=B.data)||void 0===N?void 0:N.map((function(e){return(0,G.jsx)(m.Z,{value:e._id,children:e.titleEn},e._id)}))]})),(0,G.jsx)(C.Z,{err:ne.subcategory})]}),(0,G.jsxs)(g.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1,p:0},children:[(0,G.jsx)(v.Z,{children:"BuyPrice"}),(0,G.jsx)(S.Z,(0,r.Z)({fullWidth:!0,placeholder:"Enter Buy Price"},X("buyPrice"))),(0,G.jsx)(C.Z,{err:ne.buyPrice})]}),(0,G.jsxs)(g.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1,p:0},children:[(0,G.jsx)(v.Z,{children:"Sell Price"}),(0,G.jsx)(S.Z,(0,r.Z)({fullWidth:!0,placeholder:"Enter Sell Price"},X("sellPrice"))),(0,G.jsx)(C.Z,{err:ne.sellPrice})]})]}),(0,G.jsx)(Z.Z,{variant:"contained",color:"primary",size:"large",sx:{height:"52px",my:1},type:"submit",disabled:le||le||!re,onClick:function(){ge($())},fullWidth:!0,children:"Update Product"})]})]})})},R=n(4834),W=n(3400),T=n(71),U=function(e){var t=e.variant,n=o.useContext(k.Z),a=o.useState(t),u=(0,i.Z)(a,2),c=u[0],l=u[1];o.useEffect((function(){return l(t)}),[t]);var s=(0,F.F5)().mutateAsync,v=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(){var r;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.E)((function(){return s({id:null===t||void 0===t?void 0:t._id,data:{titleEn:null===c||void 0===c?void 0:c.titleEn,quantity:null===c||void 0===c?void 0:c.quantity}})}),[200]);case 2:(r=e.sent).status?(l(null===r||void 0===r?void 0:r.data),n.createSnack(r.msg)):n.createSnack(r.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,G.jsxs)(x.Z,{direction:"row",columnGap:1,sx:{width:"100%"},children:[(0,G.jsx)(R.ZP,{sx:A.Z,placeholder:"Variant Name",value:null===c||void 0===c?void 0:c.titleEn,endAdornment:(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(b.Z,{color:"success",checked:null===t||void 0===t?void 0:t.isActive})}),fullWidth:!0,onChange:function(e){return l((0,r.Z)((0,r.Z)({},c),{},{titleEn:e.target.value}))}}),(0,G.jsx)(R.ZP,{placeholder:"Quantity",value:null===c||void 0===c?void 0:c.quantity,sx:A.Z,onChange:function(e){return l((0,r.Z)((0,r.Z)({},c),{},{quantity:e.target.value}))},fullWidth:!0,endAdornment:(0,G.jsx)(G.Fragment,{children:((null===c||void 0===c?void 0:c.titleEn)!==(null===t||void 0===t?void 0:t.titleEn)||(null===c||void 0===c?void 0:c.quantity)!==(null===t||void 0===t?void 0:t.quantity))&&(0,G.jsx)(W.Z,{size:"small",color:"success",onClick:function(){return v()},children:(0,G.jsx)(T.xOC,{})})})})]})},V=n(6856),z=function(e){var t=e.product_id,n=o.useContext(k.Z),i=(0,y.cI)(),a=i.register,u=i.reset,c=i.watch,l=i.handleSubmit,s=i.formState.errors,v=(0,F.KA)(),x=v.mutateAsync,p=v.isLoading,h=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(r){var i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.E)((function(){return x({id:t,data:r})}),[201]);case 2:(i=e.sent).status?(u(),n.createSnack(i.msg)):n.createSnack(i.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,G.jsxs)("form",{onSubmit:l(h),children:[(0,G.jsx)(g.ZP,{disablePadding:!0,sx:{py:.5},children:(0,G.jsx)(R.ZP,(0,r.Z)((0,r.Z)({sx:A.Z},a("titleEn",{required:!0})),{},{placeholder:"Create New Variant",endAdornment:c("titleEn")&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(W.Z,{size:"small",color:"error",sx:{mr:1},onClick:function(){return u()},disabled:p,children:(0,G.jsx)(V.FH3,{})}),(0,G.jsx)(Z.Z,{variant:"contained",size:"small",type:"submit",disabled:p,children:"Create"})]}),fullWidth:!0}))}),(0,G.jsx)(C.Z,{err:s.titleEn})]})},O=function(){var e,t,n,r,i=o.useContext(k.Z),a=(0,j.UO)().pid,u=(0,y.cI)(),c=u.reset,l=u.watch,s=u.formState.errors,x=(0,F.Ss)(a).data,p=(0,F.vO)(),Z=p.mutateAsync,b=(p.isLoading,function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.E)((function(){return Z({product_id:a,data:t})}),[200]);case 2:(n=e.sent).status?i.createSnack(n.msg):i.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return o.useEffect((function(){var e,t;x&&c({variantType:(null===x||void 0===x||null===(e=x.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.variantType)||"null"})}),[x]),(0,G.jsxs)("div",{children:[(0,G.jsx)(v.Z,{variant:"h6",sx:{fontWeight:"500",mt:1},children:"Variants"}),(0,G.jsxs)(w.Z,{children:[(0,G.jsxs)(g.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1,p:0},children:["Variant Type",(0,G.jsxs)(h.Z,{sx:A.Z,placeholder:"Select Sub Category",value:l("variantType")||"null",fullWidth:!0,onChange:function(e){b({variantType:e.target.value})},children:[(0,G.jsx)(m.Z,{value:"null",disabled:!0,children:"Select a Variant Type"}),(0,G.jsx)(m.Z,{value:"Size",children:"Size"}),(0,G.jsx)(m.Z,{value:"Color",children:"Color"}),(0,G.jsx)(m.Z,{value:"Variant",children:"Variant"})]}),(0,G.jsx)(C.Z,{err:s.variantType})]}),null===x||void 0===x||null===(e=x.data)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.variants)||void 0===n||null===(r=n.map)||void 0===r?void 0:r.call(n,(function(e){return(0,G.jsx)(g.ZP,{disablePadding:!0,sx:{py:.5},children:(0,G.jsx)(U,{variant:e})},e._id)})),(0,G.jsx)(z,{product_id:a})]})]})},L=n(7047),q=function(){var e,t,n,r=(0,j.UO)().pid,u=o.useContext(k.Z),c=o.useState([]),l=(0,i.Z)(c,2),s=l[0],v=l[1],x=(0,F.b6)(r),p=x.data,g=x.isLoading,Z=(0,F.bR)().mutateAsync,h=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.E)((function(){return Z(t)}));case 2:(n=e.sent).status?u.createSnack(n.msg):u.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=(0,F._R)().mutateAsync,y=function(){var e=(0,f.Z)((0,d.Z)().mark((function e(t){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.E)((function(){return m({id:r,data:{"Files[]":t}})}),[201]);case 2:(n=e.sent).status?u.createSnack(n.msg):u.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.useEffect((function(){var e;p&&v((null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.data)||[])}),[p]),(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(a.Z,{sx:{py:2},children:(0,G.jsxs)(w.Z,{sx:{my:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap",rowGap:1,columnGap:1,border:0},children:[g&&(null===(e=[1,2,3,4])||void 0===e||null===(t=e.map)||void 0===t?void 0:t.call(e,(function(e){return(0,G.jsx)(L.Z,{variant:"rectangular",height:"125px",width:"125px"})}))),null===s||void 0===s||null===(n=s.map)||void 0===n?void 0:n.call(s,(function(e){return(0,G.jsx)(o.Fragment,{children:(0,G.jsx)(P.Z,{defaultValue:{preview:(0,I.FG)(e.image),id:e._id},onDelete:function(e){return h(e.id)}})},e._id)})),(0,G.jsx)(P.Z,{onChange:function(e){return y(e)}})]})})})},B=(n(8152),n(2426),n(7569)),N=function(){var e=(0,j.UO)().pid;return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(a.Z,{sx:{py:2},children:[(0,G.jsx)(v.Z,{variant:"h6",sx:{mb:1,fontWeight:"bold"},children:"All Review"}),(0,G.jsx)(B.Z,{product:e})]})})},H=function(){var e=(0,c.lr)(),t=(0,i.Z)(e,2),n=t[0],o=t[1];return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(a.Z,{sx:{pt:1},children:[(0,G.jsx)(u.ZP,{container:!0,rowGap:1,columnGap:1,sx:{mt:2},children:(0,G.jsxs)(s.Z,{value:n.get("tab"),sx:{minWidth:{xs:"90vw",sm:"350px"},maxWidth:"95vw",mx:"auto",my:2},children:[(0,G.jsx)(l.Z,{value:null,label:"Info",onClick:function(){delete n.tab,o((0,r.Z)({},n))}}),(0,G.jsx)(l.Z,{value:"variant",label:"Variants",onClick:function(){return o((0,r.Z)((0,r.Z)({},n),{},{tab:"variant"}))}}),(0,G.jsx)(l.Z,{value:"gallary",label:"Gallary",onClick:function(){return o((0,r.Z)((0,r.Z)({},n),{},{tab:"gallary"}))}}),(0,G.jsx)(l.Z,{value:"review",label:"Reviews",onClick:function(){return o((0,r.Z)((0,r.Z)({},n),{},{tab:"review"}))}})]})}),"variant"===n.get("tab")?(0,G.jsx)(O,{}):"gallary"===n.get("tab")?(0,G.jsx)(q,{}):"review"===n.get("tab")?(0,G.jsx)(N,{}):(0,G.jsx)(_,{})]})})}},7569:function(e,t,n){var r=n(4165),i=n(5861),a=n(1413),u=n(885),o=n(703),c=n(1889),l=n(4834),s=n(4415),d=n(3786),f=n(3767),v=n(3239),x=n(8178),p=n(3044),g=n(748),Z=n(890),h=n(2791),m=n(1087),y=n(8152),j=n(7400),b=n(2426),w=n.n(b),P=n(8090),S=n(9515),C=n(7589),k=n(5239),Q=n(5612),E=n(184),F=function(e){var t,n,a=e.revItem,u=e.showUser,c=e.showProd,l=e.showAll,s=h.useContext(C.Z),d=(0,y.S)().mutateAsync,v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return d(t)}));case 2:(n=e.sent).status?s.createSnack(n.msg):s.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,E.jsx)(o.Z,{elevation:0,sx:{p:1,pb:.5,mb:1,"&:last-child":{mb:0},border:"1px solid #ddd"},children:(0,E.jsxs)(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",columnGap:4,children:[(u||l)&&(0,E.jsx)(f.Z,{direction:"column",alignItems:"center",rowGap:.5,maxWidth:"62px",component:m.rU,to:"/customer/".concat(null===a||void 0===a||null===(t=a.author)||void 0===t?void 0:t._id),sx:{textDecoration:"none",color:"unset"},children:(0,E.jsx)(p.Z,{sx:{width:45,height:45},variant:"rounded",src:(0,j.FG)(null===a||void 0===a?void 0:a.author.image),alt:null===a||void 0===a?void 0:a.author.fullName})}),(c||l)&&(0,E.jsx)(f.Z,{direction:"column",alignItems:"center",rowGap:.5,maxWidth:"200px",component:m.rU,to:"/prod/".concat(null===a||void 0===a||null===(n=a.product)||void 0===n?void 0:n._id),sx:{textDecoration:"none",color:"unset"},children:(0,E.jsx)(p.Z,{sx:{borderRadius:1,height:"45px",width:"45px",background:"transparent",color:"primary.dark",mr:1},src:(0,j.FG)(null===a||void 0===a?void 0:a.product.image),alt:null===a||void 0===a?void 0:a.product.titleEn})}),(0,E.jsxs)(f.Z,{direction:"column",rowGap:.5,flex:1,children:[(0,E.jsx)(g.Z,{name:"half-rating-read",value:null===a||void 0===a?void 0:a.rating,precision:.1,size:"small",readOnly:!0}),(0,E.jsx)(Z.Z,{children:null===a||void 0===a?void 0:a.message}),(0,E.jsx)(Z.Z,{variant:"caption",children:w()(null===a||void 0===a?void 0:a.createdAt).format("lll")})]}),(0,E.jsx)(S.Z,{checked:null===a||void 0===a?void 0:a.isActive,color:"success",onClick:function(){v(null===a||void 0===a?void 0:a._id)}})]})})};t.Z=function(e){var t,n,r=e.author,i=e.product,p=(0,Q.Z)(),g=p.limit,Z=p.setLimit,m=p.page,j=p.setPage,b=p.search,w=p.setSearch,S=p.watch,C=p.setFilterField,k=p.getQueryParams;h.useEffect((function(){(r||i)&&(r&&C("author",r),i&&C("product",i))}),[]);var I=(0,y.R)(k()),A=I.data,M=I.isLoading,D=I.isError,G=h.useState([]),_=(0,u.Z)(G,2),R=_[0],W=_[1];return h.useEffect((function(){var e;D||W((null===A||void 0===A||null===(e=A.data)||void 0===e?void 0:e.data)||[])}),[M,A]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(o.Z,{elevation:0,sx:{p:2,border:"1px solid #ccc",my:2},children:(0,E.jsxs)(c.ZP,{container:!0,rowGap:1,columnGap:1,alignItems:"center",justifyContent:"space-between",children:[(0,E.jsx)(c.ZP,{item:!0,xs:12,sm:8.7,children:(0,E.jsx)(l.ZP,{placeholder:"Search User",sx:P.Z,value:b,onChange:function(e){return w(e.target.value)},fullWidth:!0})}),(0,E.jsx)(c.ZP,{item:!0,xs:12,sm:3,children:(0,E.jsxs)(s.Z,{sx:(0,a.Z)({},P.Z),value:S("isActive")||"null",onChange:function(e){C("isActive","null"===e.target.value?void 0:e.target.value)},fullWidth:!0,children:[(0,E.jsx)(d.Z,{value:"null",selected:!0,children:"All"}),(0,E.jsx)(d.Z,{value:"true",children:"Active"}),(0,E.jsx)(d.Z,{value:"false",children:"Blocked"}),"/"]})})]})}),M&&(0,E.jsx)(f.Z,{alignItems:"center",py:2,pb:4,children:(0,E.jsx)(v.Z,{})}),null===R||void 0===R||null===(t=R.map)||void 0===t?void 0:t.call(R,(function(e,t){return(0,E.jsx)(h.Fragment,{children:(0,E.jsx)(F,{revItem:e,showProd:!!r,showUser:!!i,showAll:!r&&!i})},t)})),(0,E.jsx)(f.Z,{direction:"row",justifyContent:"flex-end",children:(0,E.jsx)(x.Z,{component:"div",count:(null===A||void 0===A||null===(n=A.data)||void 0===n?void 0:n.total)||0,page:m,onPageChange:function(e,t){return j(t)},rowsPerPage:g,onRowsPerPageChange:function(e){return Z(e.target.value)}})})]})}},4335:function(e,t,n){n.d(t,{JT:function(){return f},nx:function(){return u},r$:function(){return c},vu:function(){return s}});var r=n(2982),i=n(1933),a=n(7400),u=function(){return(0,i.useQuery)(["get-feed-images"],(function(){return a.ZP.get("feed/image")}),{})},o=function(e){return a.ZP.delete("feed/image/".concat(e))},c=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(o,{onSuccess:function(){return e.invalidateQueries("get-feed-images")}})},l=function(e){return a.ZP.postForm("feed/image",e)},s=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(l,{onSuccess:function(){return e.invalidateQueries("get-feed-images")}})},d=function(e){return a.ZP.postForm("attachments",{"Files[]":(0,r.Z)(e)})},f=function(){return(0,i.useMutation)(d,{})}},6112:function(e,t,n){n.d(t,{E6:function(){return d},Ee:function(){return y},Gb:function(){return v},HL:function(){return l},L8:function(){return g},Ny:function(){return p},S1:function(){return h},SA:function(){return j},aq:function(){return o},g0:function(){return w},hU:function(){return u},pE:function(){return S}});var r=n(1413),i=n(1933),a=n(7400),u=function(e){return(0,i.useQuery)(["get-all-category",e],(function(){return function(e){return a.ZP.get("category",{params:e})}(e)}),{})},o=function(e){return(0,i.useQuery)(["get-category",e],(function(){return function(e){return a.ZP.get("category/".concat(e))}(e)}),{enabled:!!e})},c=function(e){return a.ZP.post("category",e)},l=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(c,{onSuccess:function(){return e.invalidateQueries("get-all-category")}})},s=function(e){return a.ZP.post("subcategory",e)},d=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(s,{onSuccess:function(){return e.invalidateQueries("get-sub-category-cat")}})},f=function(e){var t=e.id,n=e.data;return a.ZP.patch("subcategory/".concat(t),n)},v=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(f,{onSuccess:function(){return e.invalidateQueries("get-sub-category-cat")}})},x=function(e){var t=e.id,n=e.data;return a.ZP.patch("category/".concat(t),n)},p=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(x,{onSuccess:function(){e.invalidateQueries("get-all-category"),e.invalidateQueries("get-category")}})},g=function(e,t){return(0,i.useQuery)(["get-sub-category-cat",e,t],(function(){return function(e,t){return a.ZP.get("subcategory",{params:(0,r.Z)((0,r.Z)({},t),{},{category:e})})}(e,t)}),{enabled:!!e&&"null"!==e,retry:0})},Z=function(e){return a.ZP.put("category/".concat(e))},h=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(Z,{onSuccess:function(){return e.invalidateQueries("get-all-category")}})},m=function(e){return a.ZP.put("subcategory/".concat(e))},y=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(m,{onSuccess:function(){return e.invalidateQueries("get-sub-category-cat")}})},j=function(e){return(0,i.useQuery)(["get-category-images",e],(function(){return function(e){return a.ZP.get("category/".concat(e,"/images"))}(e)}),{enabled:!!e})},b=function(e){return a.ZP.delete("category/images/".concat(e))},w=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(b,{onSuccess:function(){return e.invalidateQueries("get-category-images")}})},P=function(e){var t=e.id,n=e.data;return a.ZP.postForm("category/".concat(t,"/images"),n)},S=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(P,{onSuccess:function(){return e.invalidateQueries("get-category-images")}})}},8792:function(e,t,n){n.d(t,{F5:function(){return h},KA:function(){return y},Ss:function(){return c},_R:function(){return g},au:function(){return b},b6:function(){return f},bR:function(){return x},gl:function(){return d},tv:function(){return u},vO:function(){return s}});var r=n(1413),i=n(1933),a=n(7400),u=function(e){return(0,i.useQuery)(["get-all-product",e],(function(){return function(e){return a.ZP.get("product",{params:e})}(e)}),{})},o=function(e){return a.ZP.post("product",(0,r.Z)({},e))},c=function(e){return(0,i.useQuery)(["get-product-by-id",e],(function(){return function(e){return a.ZP.get("product/".concat(e))}(e)}),{})},l=function(e){var t=e.product_id,n=e.data;return a.ZP.patch("product/".concat(t),n)},s=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(l,{onSuccess:function(){e.invalidateQueries("get-all-product"),e.invalidateQueries("get-product-by-id")}})},d=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(o,{onSuccess:function(){e.invalidateQueries(["get-all-product"]),e.invalidateQueries(["get-products-by-store"])}})},f=function(e){return(0,i.useQuery)(["get-product-images",e],(function(){return function(e){return a.ZP.get("product/".concat(e,"/images"))}(e)}),{enabled:!!e})},v=function(e){return a.ZP.delete("product/images/".concat(e))},x=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(v,{onSuccess:function(){return e.invalidateQueries("get-product-images")}})},p=function(e){var t=e.id,n=e.data;return a.ZP.postForm("product/".concat(t,"/images"),n)},g=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(p,{onSuccess:function(){return e.invalidateQueries("get-product-images")}})},Z=function(e){var t=e.id,n=e.data;return a.ZP.patch("variant/".concat(t),n)},h=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(Z,{onSuccess:function(){return e.invalidateQueries("get-product-by-id")}})},m=function(e){var t=e.id,n=e.data;return a.ZP.post("variant/".concat(t),n)},y=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(m,{onSuccess:function(){return e.invalidateQueries("get-product-by-id")}})},j=function(e){return a.ZP.put("product/".concat(e))},b=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(j,{onSuccess:function(){e.invalidateQueries("get-all-product"),e.invalidateQueries("get-product-by-id"),e.invalidateQueries("get-product-stats")}})}},8152:function(e,t,n){n.d(t,{R:function(){return a},S:function(){return o}});var r=n(1933),i=n(7400),a=function(e){return(0,r.useQuery)(["get-all-review",e],(function(){return function(e){return i.ZP.get("review",{params:e})}(e)}),{})},u=function(e){return i.ZP.put("review/".concat(e))},o=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(u,{onSuccess:function(){e.invalidateQueries("get-all-review")}})}},8090:function(e,t){t.Z={bgcolor:"#f3f3f3",borderRadius:"4px",px:"10px",height:"52px",outline:"none","&, & *":{border:"transparent !important",outline:"none !important"}}}}]);
//# sourceMappingURL=925.7033a259.chunk.js.map