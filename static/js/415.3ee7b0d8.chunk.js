"use strict";(self.webpackChunkrayos_admin_react=self.webpackChunkrayos_admin_react||[]).push([[415],{9515:function(e,n,t){var i=t(1413),r=t(6934),a=t(9891),l=(t(2791),t(184)),o=(0,r.ZP)((function(e){return(0,l.jsx)(a.Z,(0,i.Z)({focusVisibleClassName:".Mui-focusVisible"},e))}))((function(e){e.theme;return{width:44,height:26,padding:5,"& .MuiSwitch-switchBase":{margin:1,padding:6,transform:"translateX(0px)","&.Mui-checked":{color:"#fff",transform:"translateX(18px)"},"&.Mui-checked + .MuiSwitch-track":{}},"& .MuiSwitch-thumb":{width:12,height:12},"& .MuiSwitch-track":{borderRadius:16}}}));n.Z=o},1852:function(e,n,t){var i=t(6934),r=t(3896),a=(0,i.ZP)(r.Z)((function(e){var n=e.theme;return{textTransform:"none",fontSize:{xs:"0.7rem",md:"1rem"},fontWeight:"600",borderRadius:"50px","&:hover":{opacity:1,color:n.palette.black.main},"&.Mui-selected":{color:n.palette.black.contrastText,background:n.palette.black.main},"&.Mui-focusVisible":{backgroundColor:"#d1eaff"}}}));n.Z=a},8377:function(e,n,t){var i=t(6934),r=t(9124),a=(0,i.ZP)(r.Z)((function(e){e.theme;return{boxShadow:"0px 4px 25px rgba(0, 0, 0, 0.1)",borderRadius:"50px","& .MuiTabs-flexContainer":{justifyContent:"space-between"},"& .MuiTabs-flexContainer > *":{flex:1},"& .MuiTabs-indicator":{backgroundColor:"transparent"}}}));n.Z=a},384:function(e,n,t){t.d(n,{Z:function(){return h}});var i=t(1413),r=t(5987),a=t(8870),l=t(2808),o=(t(2791),t(6934)),s=t(184),d=(0,o.ZP)("div")((function(e){var n=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===n.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===n.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===n.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===n.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===n.palette.mode?"0.8":"0.08",fill:"light"===n.palette.mode?"#f5f5f5":"#fff"}}}));function u(){return(0,s.jsxs)(d,{children:[(0,s.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,s.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,s.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,s.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,s.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,s.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,s.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,s.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,s.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,s.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,s.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,s.jsx)(a.Z,{sx:{mt:1},children:"No Data Found!"})]})}var c=["columns","rows","isLoading","onCellClick"],h=function(e){var n=e.columns,t=e.rows,o=e.isLoading,d=(e.onCellClick,(0,r.Z)(e,c));return(0,s.jsx)(a.Z,{sx:{height:o||!t.length?"400px":"fit-content","& .MuiDataGrid-columnHeaders":{backgroundColor:"#E5E5E5",color:"black",fontWeight:900,fontSize:14}},children:(0,s.jsx)(l._,(0,i.Z)({headerAlign:!0,disableColumnMenu:!0,disableColumnFilter:!0,disableSelectionOnClick:!0,rowsPerPageOptions:[5,10,25,50,100],autoHeight:!(o||!t.length),columns:n,rows:t,loading:o,components:{NoRowsOverlay:u},sx:{"& .MuiDataGrid-columnHeader:focus-within, & .MuiDataGrid-cell:focus-within":{outline:"none !important"}}},d))})}},1703:function(e,n,t){var i=t(1413),r=t(4165),a=t(5861),l=t(5987),o=t(4415),s=t(4834),d=t(1918),u=t(3786),c=t(2791),h=t(7589),m=t(4972),f=t(5239),v=t(184),x=["id","status","size"];n.Z=function(e){var n=e.id,t=e.status,p=e.size,g=(0,l.Z)(e,x),Z=function(){switch(t){case"Pending":return"info";case"Shipped":case"Confirmed":return"black";case"Canceled":case"Returned":return"error";case"Delivered":return"success";default:return"default"}},j=(0,m.Ll)(),b=j.mutateAsync,w=(j.isLoading,c.useContext(h.Z)),y=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.E)((function(){return b({id:n,status:t})}),[201]);case 2:(i=e.sent).status?w.createSnack(i.msg):w.createSnack(i.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,v.jsxs)(o.Z,(0,i.Z)((0,i.Z)({value:t||"",disabled:"Returned"===t||"Canceled"===t,size:"small",fullWidth:!0,IconComponent:function(){return(0,v.jsx)(v.Fragment,{})},input:(0,v.jsx)(s.ZP,{sx:{pr:0}}),sx:{"& .MuiSelect-select":{padding:"0 !important",display:"flex",alignItems:"center",justifyContent:"center"}},MenuProps:{sx:{mt:"5px"}},renderValue:function(e){return(0,v.jsx)(d.Z,{label:e,color:Z(),size:p||"medium",sx:{fontWeight:"bold",textTransform:"uppercase"},onClick:function(){}},e)}},g),{},{onChange:function(e){return y(e.target.value)},children:[(0,v.jsx)(u.Z,{value:"Pending",disabled:!0,children:"Pending"}),(0,v.jsx)(u.Z,{value:"Confirmed",disabled:"Confirmed"===t,children:"Confirmed"}),(0,v.jsx)(u.Z,{value:"Shipped",disabled:"Shipped"===t,children:"Shipped"}),(0,v.jsx)(u.Z,{value:"Delivered",disabled:"Delivered"===t,children:"Delivered"}),(0,v.jsx)(u.Z,{value:"Canceled",disabled:"Canceled"===t,children:"Canceled"}),(0,v.jsx)(u.Z,{value:"Returned",disabled:"Returned"===t,children:"Returned"})]}))}},5612:function(e,n,t){var i=t(4942),r=t(1413),a=t(885),l=t(2791);n.Z=function(e){var n,t,o,s,d=l.useState({limit:(null===e||void 0===e||null===(n=e.defaultParams)||void 0===n?void 0:n.limit)||10,page:(null===e||void 0===e||null===(t=e.defaultParams)||void 0===t?void 0:t.page)||1,search:(null===e||void 0===e||null===(o=e.defaultParams)||void 0===o?void 0:o.search)||"",filters:(null===e||void 0===e||null===(s=e.defaultParams)||void 0===s?void 0:s.filter)||{}}),u=(0,a.Z)(d,2),c=u[0],h=u[1];return{params:c,search:null===c||void 0===c?void 0:c.search,setSearch:function(e){return h((0,r.Z)((0,r.Z)({},c),{},{search:e}))},page:((null===c||void 0===c?void 0:c.page)||1)-1,setPage:function(e){return h((0,r.Z)((0,r.Z)({},c),{},{page:e+1}))},limit:null===c||void 0===c?void 0:c.limit,setLimit:function(e){return h((0,r.Z)((0,r.Z)({},c),{},{limit:e}))},watch:function(e){var n;return(null===c||void 0===c||null===(n=c.filters)||void 0===n?void 0:n[e])||void 0},setFilterField:function(e,n){return h((0,r.Z)((0,r.Z)({},c),{},{filters:(0,r.Z)((0,r.Z)({},null===c||void 0===c?void 0:c.filters),{},(0,i.Z)({},e,n))}))},getQueryParams:function(){return JSON.parse(JSON.stringify((0,r.Z)((0,r.Z)({},c),{},{filters:void 0},c.filters)))}}}},5415:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var i=t(1413),r=t(885),a=t(266),l=t(2791),o=t(7689),s=t(1087),d=t(1852),u=t(8377),c=t(4165),h=t(5861),m=t(1889),f=t(8870),v=t(3239),x=t(3044),p=t(68),g=t(9877),Z=t(3767),j=t(890),b=t(9538),w=t(703),y=t(4721),C=t(4518),P=t(3853),S=(t(3588),t(1537)),k=t(5239),N=t(7589),M=t(6355),A=t(1134),F=t(4095),z=t(7400),D=t(2711),I=t(4335),R=t(9515),G=t(184),O=function(){var e,n,t,s,d,u,O,W,Q,U,T,_,E=l.useContext(N.Z),L=(0,o.UO)().cid,V=l.useState(),H=(0,r.Z)(V,2),J=H[0],B=H[1],Y=(0,A.cI)(),X=Y.register,$=(Y.getValues,Y.setValue,Y.reset),q=Y.handleSubmit,K=Y.formState,ee=(K.errors,K.isDirty),ne=(0,S.Yz)(L).data,te=(0,S.dd)().mutateAsync,ie=function(){var e=(0,h.Z)((0,c.Z)().mark((function e(n){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return te(n)}));case 2:(t=e.sent).status?E.createSnack(t.msg):E.createSnack(t.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();l.useEffect((function(){var e,n,t,i,r,a,l,o;ne&&(ee||$({userName:null===ne||void 0===ne||null===(e=ne.data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.userName,fullName:null===ne||void 0===ne||null===(t=ne.data)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.fullName,email:null===ne||void 0===ne||null===(r=ne.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.email,phone:null===ne||void 0===ne||null===(l=ne.data)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.phone}))}),[ne]);var re=(0,S.Hl)(),ae=re.mutateAsync,le=re.isLoading,oe=function(){var e=(0,h.Z)((0,c.Z)().mark((function e(n){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return ae({customer_id:L,data:n})}),[200]);case 2:(t=e.sent).status?E.createSnack(t.msg):E.createSnack(t.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),se=(0,I.JT)(),de=se.mutateAsync,ue=se.isLoading,ce=function(){var e=(0,h.Z)((0,c.Z)().mark((function e(){var n,t,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return de([J])}),[201]);case 2:if(!(n=e.sent).status){e.next=8;break}return e.next=6,oe({image:null===(t=n.data)||void 0===t||null===(i=t[0])||void 0===i?void 0:i._id});case 6:e.next=9;break;case 8:E.createSnack(n.data,"error");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.useEffect((function(){J&&ce()}),[J]),(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",pb:1},children:(0,G.jsxs)(m.ZP,{container:!0,spacing:4,sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:1},children:[(0,G.jsxs)(m.ZP,{item:!0,xs:12,sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:"center",rowGap:2,columnGap:4,justifyContent:{xs:"center"}},children:[(0,G.jsxs)(f.Z,{sx:{position:"relative",minHeight:"150px",minWidth:"150px"},component:"form",children:[ue||le?(0,G.jsx)(f.Z,{sx:{borderRadius:"50%",position:"relative",height:"150px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,G.jsx)(v.Z,{color:"black"})}):(0,G.jsx)(x.Z,{sx:{width:"150px",height:"150px"},src:(0,z.FG)(null===ne||void 0===ne||null===(e=ne.data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.image),alt:null===ne||void 0===ne||null===(t=ne.data)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.fullName}),(0,G.jsx)(p.Z,{title:"Upload Photo",children:(0,G.jsxs)(g.Z,{size:"small",sx:{position:"absolute",top:100,right:0},color:"secondary",component:"label",children:[(0,G.jsx)(P.IYd,{}),(0,G.jsx)("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(e){B(e.target.files[0])}})]})})]}),(0,G.jsxs)(Z.Z,{direction:"column",sx:{alignItems:{xs:"center",sm:"flex-start"}},children:[(0,G.jsxs)(Z.Z,{direction:"row",alignItems:"center",columnGap:1,children:[(0,G.jsx)(j.Z,{variant:"h6",children:null===ne||void 0===ne||null===(d=ne.data)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.userName}),(0,G.jsx)(R.Z,{checked:null===ne||void 0===ne||null===(O=ne.data)||void 0===O||null===(W=O.data)||void 0===W?void 0:W.isActive,color:"success",onClick:function(){var e,n;ie(null===ne||void 0===ne||null===(e=ne.data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n._id)}})]}),(0,G.jsxs)(j.Z,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",columnGap:1,mt:{sm:1}},children:[(0,G.jsx)(b.Z,{smDown:!0,children:(0,G.jsx)(D.JO,{icon:"uiw:mail"})}),(0,G.jsx)("span",{children:null===ne||void 0===ne||null===(Q=ne.data)||void 0===Q||null===(U=Q.data)||void 0===U?void 0:U.email})]}),(0,G.jsxs)(j.Z,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",columnGap:1,mt:{sm:1}},children:[(0,G.jsx)(b.Z,{smDown:!0,children:(0,G.jsx)(M.DNl,{})}),(0,G.jsx)("span",{children:null===ne||void 0===ne||null===(T=ne.data)||void 0===T||null===(_=T.data)||void 0===_?void 0:_.phone})]})]})]}),(0,G.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,G.jsxs)(w.Z,{sx:{p:{xs:1,md:2},boxShadow:{xs:2,md:6},maxWidth:"350px",mx:"auto"},component:Z.Z,direction:"column",rowGap:1,children:[(0,G.jsxs)(b.Z,{mdDown:!0,children:[(0,G.jsx)(j.Z,{variant:"h5",sx:{p:1},children:"ACCOUNT SETTINGS"}),(0,G.jsx)(y.Z,{})]}),(0,G.jsxs)("form",{onSubmit:q(oe),children:[(0,G.jsx)(j.Z,{variant:"button",children:"Username "}),(0,G.jsx)(F.Z,(0,i.Z)({placeholder:"Username",fullWidth:!0},X("userName"))),(0,G.jsx)(j.Z,{variant:"button",children:"Name "}),(0,G.jsx)(F.Z,(0,i.Z)({placeholder:"Full Name",fullWidth:!0},X("fullName"))),(0,G.jsx)(j.Z,{variant:"button",children:"Phone "}),(0,G.jsx)(F.Z,(0,i.Z)({placeholder:"Phone Number",readOnly:!0,disabled:!0,fullWidth:!0},X("phone"))),(0,G.jsx)(j.Z,{variant:"button",children:"email "}),(0,G.jsx)(F.Z,(0,i.Z)({placeholder:"Full Name",fullWidth:!0},X("email"))),(0,G.jsx)(C.Z,{variant:"contained",color:"black",type:"submit",disabled:le||!ee,fullWidth:!0,children:"Update"})]})]})})]})})})},W=t(4942),Q=t(3400),U=t(4834),T=t(4415),_=t(3786),E=t(2426),L=t.n(E),V=t(384),H=t(3953),J=t(4972),B=t(8090),Y=(t(672),t(1703)),X=function(){l.useContext(N.Z);var e,n,t,d,u,c=(0,o.UO)().cid,h=l.useState({method:"all",limit:10,page:1,filters:[]}),f=(0,r.Z)(h,2),v=f[0],x=f[1],p=(0,J.J_)(c,v),g=p.data,Z=p.isLoading,b=[{headerName:"",field:"id",width:100,align:"center",headerAlign:"center",renderCell:function(e){var n;return(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(Q.Z,{component:s.rU,size:"small",color:"primary",to:"/order-details/".concat(null===(n=e.row)||void 0===n?void 0:n._id),children:(0,G.jsx)(M.bdS,{})})})},sortable:!1},{headerName:"Reciepent Phone",headerAlign:"center",align:"center",field:"phone",width:120,sortable:!1,renderCell:function(e){var n;return(0,G.jsx)(j.Z,{children:(null===(n=e.row.shipping)||void 0===n?void 0:n.phone)||"-"})}},(e={headerName:"Order Date",headerAlign:"center",align:"center",field:"createdAt",width:170},(0,W.Z)(e,"headerAlign","center"),(0,W.Z)(e,"renderCell",(function(e){return(0,G.jsx)(j.Z,{children:L()(e.row.createdAt).format("lll")})})),e),(n={headerName:"Status",headerAlign:"center",align:"center",field:"status",width:120},(0,W.Z)(n,"headerAlign","center"),(0,W.Z)(n,"align","center"),(0,W.Z)(n,"renderCell",(function(e){return(0,G.jsx)(Y.Z,{id:e.row._id,status:e.row.status,size:"small"})})),(0,W.Z)(n,"sortable",!1),n),{headerName:"Method",field:"paymentMethod",align:"center",headerAlign:"center",sortable:!1},{headerName:"Product Total",field:"totalSellPrice",align:"center",headerAlign:"center",sortable:!1},{headerName:"Shipping Fee",headerAlign:"center",field:"shippingFee",align:"center",sortable:!1},{headerName:"Voucher",headerAlign:"center",field:"voucher",align:"center",width:120,renderCell:function(e){var n;return(null===(n=e.row)||void 0===n?void 0:n.voucher)||"-"},sortable:!1},{headerName:"Discount",headerAlign:"center",field:"discount",align:"center",sortable:!1},{headerName:"Total Price",headerAlign:"center",field:"total",align:"center",sortable:!1}];return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(a.Z,{sx:{py:2},children:[(0,G.jsx)(H.Z,{stateList:[{num:null===g||void 0===g||null===(t=g.data)||void 0===t?void 0:t.total,title:"Total Order"},{num:"-",title:"Total Confirm Order"},{num:"-",title:"Total Pending order"},{num:"-",title:"Total Cancel Order"}]}),(0,G.jsx)(w.Z,{elevation:0,sx:{p:2,border:"1px solid #ccc",my:2},children:(0,G.jsxs)(m.ZP,{container:!0,rowGap:1,columnGap:1,alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(m.ZP,{item:!0,xs:12,sm:8.7,children:(0,G.jsx)(U.ZP,{placeholder:"Search Order",sx:B.Z,onChange:function(e){x((0,i.Z)((0,i.Z)({},v),{},{filters:["receiver_number~".concat(e.target.value)]}))},fullWidth:!0})}),(0,G.jsx)(m.ZP,{item:!0,xs:12,sm:3,children:(0,G.jsxs)(T.Z,{sx:(0,i.Z)({},B.Z),value:v.method,onChange:function(e){return x((0,i.Z)((0,i.Z)({},v),{},{method:e.target.value}))},fullWidth:!0,children:[(0,G.jsx)(_.Z,{value:"all",disabled:"all"===v.method,children:"All"}),(0,G.jsx)(_.Z,{value:"Pending",disabled:"Pending"===v.method,children:"Pending"}),(0,G.jsx)(_.Z,{value:"Confirmed",disabled:"Confirmed"===v.method,children:"Confirmed"}),(0,G.jsx)(_.Z,{value:"Shipped",disabled:"Shipped"===v.method,children:"Shipped"}),(0,G.jsx)(_.Z,{value:"Delivered",disabled:"Delivered"===v.method,children:"Delivered"}),(0,G.jsx)(_.Z,{value:"Canceled",disabled:"Canceled"===v.method,children:"Canceled"}),(0,G.jsx)(_.Z,{value:"Returned",disabled:"Returned"===v.method,children:"Returned"})]})})]})}),(0,G.jsx)(V.Z,{sx:{my:2},columns:b,rows:(null===g||void 0===g||null===(d=g.data)||void 0===d?void 0:d.data)||[],isLoading:Z,paginationMode:"server",rowCount:(null===g||void 0===g||null===(u=g.data)||void 0===u?void 0:u.total)||0,page:((null===v||void 0===v?void 0:v.page)||1)-1,onPageChange:function(e){console.log(e+1),x((0,i.Z)((0,i.Z)({},v),{},{page:e+1}))},pageSize:null===v||void 0===v?void 0:v.limit,onPageSizeChange:function(e){return x((0,i.Z)((0,i.Z)({},v),{},{limit:e,page:1}))}})]}),";"]})},$=(t(8152),t(7569)),q=function(){var e=(0,o.UO)().cid;return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(a.Z,{sx:{py:2},children:[(0,G.jsx)(j.Z,{variant:"h6",sx:{mb:1,fontWeight:"bold"},children:"All Review"}),(0,G.jsx)($.Z,{author:e})]})})},K=function(){var e=(0,o.UO)(),n=(e.uid,e.path_url,(0,s.lr)()),t=(0,r.Z)(n,2),l=t[0],c=t[1];return(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(a.Z,{sx:{pt:1},children:[(0,G.jsxs)(u.Z,{value:l.get("tab"),sx:{width:"fit-content",minWidth:{xs:"90vw",sm:"350px"},maxWidth:"90vw",mx:"auto",my:2},children:[(0,G.jsx)(d.Z,{value:null,label:"User Profile",onClick:function(){delete l.tab,c((0,i.Z)({},l))}}),(0,G.jsx)(d.Z,{value:"order",label:"User Order",onClick:function(){return c((0,i.Z)((0,i.Z)({},l),{},{tab:"order"}))}}),(0,G.jsx)(d.Z,{value:"review",label:"User Review",onClick:function(){return c((0,i.Z)((0,i.Z)({},l),{},{tab:"review"}))}})]}),"order"===l.get("tab")?(0,G.jsx)(X,{}):"review"===l.get("tab")?(0,G.jsx)(q,{}):(0,G.jsx)(O,{})]})})}},7569:function(e,n,t){var i=t(4165),r=t(5861),a=t(1413),l=t(885),o=t(703),s=t(1889),d=t(4834),u=t(4415),c=t(3786),h=t(3767),m=t(3239),f=t(8178),v=t(3044),x=t(748),p=t(890),g=t(2791),Z=t(1087),j=t(8152),b=t(7400),w=t(2426),y=t.n(w),C=t(8090),P=t(9515),S=t(7589),k=t(5239),N=t(5612),M=t(184),A=function(e){var n,t,a=e.revItem,l=e.showUser,s=e.showProd,d=e.showAll,u=g.useContext(S.Z),c=(0,j.S)().mutateAsync,m=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.E)((function(){return c(n)}));case 2:(t=e.sent).status?u.createSnack(t.msg):u.createSnack(t.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,M.jsx)(o.Z,{elevation:0,sx:{p:1,pb:.5,mb:1,"&:last-child":{mb:0},border:"1px solid #ddd"},children:(0,M.jsxs)(h.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",columnGap:4,children:[(l||d)&&(0,M.jsx)(h.Z,{direction:"column",alignItems:"center",rowGap:.5,maxWidth:"62px",component:Z.rU,to:"/customer/".concat(null===a||void 0===a||null===(n=a.author)||void 0===n?void 0:n._id),sx:{textDecoration:"none",color:"unset"},children:(0,M.jsx)(v.Z,{sx:{width:45,height:45},variant:"rounded",src:(0,b.FG)(null===a||void 0===a?void 0:a.author.image),alt:null===a||void 0===a?void 0:a.author.fullName})}),(s||d)&&(0,M.jsx)(h.Z,{direction:"column",alignItems:"center",rowGap:.5,maxWidth:"200px",component:Z.rU,to:"/prod/".concat(null===a||void 0===a||null===(t=a.product)||void 0===t?void 0:t._id),sx:{textDecoration:"none",color:"unset"},children:(0,M.jsx)(v.Z,{sx:{borderRadius:1,height:"45px",width:"45px",background:"transparent",color:"primary.dark",mr:1},src:(0,b.FG)(null===a||void 0===a?void 0:a.product.image),alt:null===a||void 0===a?void 0:a.product.titleEn})}),(0,M.jsxs)(h.Z,{direction:"column",rowGap:.5,flex:1,children:[(0,M.jsx)(x.Z,{name:"half-rating-read",value:null===a||void 0===a?void 0:a.rating,precision:.1,size:"small",readOnly:!0}),(0,M.jsx)(p.Z,{children:null===a||void 0===a?void 0:a.message}),(0,M.jsx)(p.Z,{variant:"caption",children:y()(null===a||void 0===a?void 0:a.createdAt).format("lll")})]}),(0,M.jsx)(P.Z,{checked:null===a||void 0===a?void 0:a.isActive,color:"success",onClick:function(){m(null===a||void 0===a?void 0:a._id)}})]})})};n.Z=function(e){var n,t,i=e.author,r=e.product,v=(0,N.Z)(),x=v.limit,p=v.setLimit,Z=v.page,b=v.setPage,w=v.search,y=v.setSearch,P=v.watch,S=v.setFilterField,k=v.getQueryParams;g.useEffect((function(){(i||r)&&(i&&S("author",i),r&&S("product",r))}),[]);var F=(0,j.R)(k()),z=F.data,D=F.isLoading,I=F.isError,R=g.useState([]),G=(0,l.Z)(R,2),O=G[0],W=G[1];return g.useEffect((function(){var e;I||W((null===z||void 0===z||null===(e=z.data)||void 0===e?void 0:e.data)||[])}),[D,z]),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(o.Z,{elevation:0,sx:{p:2,border:"1px solid #ccc",my:2},children:(0,M.jsxs)(s.ZP,{container:!0,rowGap:1,columnGap:1,alignItems:"center",justifyContent:"space-between",children:[(0,M.jsx)(s.ZP,{item:!0,xs:12,sm:8.7,children:(0,M.jsx)(d.ZP,{placeholder:"Search User",sx:C.Z,value:w,onChange:function(e){return y(e.target.value)},fullWidth:!0})}),(0,M.jsx)(s.ZP,{item:!0,xs:12,sm:3,children:(0,M.jsxs)(u.Z,{sx:(0,a.Z)({},C.Z),value:P("isActive")||"null",onChange:function(e){S("isActive","null"===e.target.value?void 0:e.target.value)},fullWidth:!0,children:[(0,M.jsx)(c.Z,{value:"null",selected:!0,children:"All"}),(0,M.jsx)(c.Z,{value:"true",children:"Active"}),(0,M.jsx)(c.Z,{value:"false",children:"Blocked"}),"/"]})})]})}),D&&(0,M.jsx)(h.Z,{alignItems:"center",py:2,pb:4,children:(0,M.jsx)(m.Z,{})}),null===O||void 0===O||null===(n=O.map)||void 0===n?void 0:n.call(O,(function(e,n){return(0,M.jsx)(g.Fragment,{children:(0,M.jsx)(A,{revItem:e,showProd:!!i,showUser:!!r,showAll:!i&&!r})},n)})),(0,M.jsx)(h.Z,{direction:"row",justifyContent:"flex-end",children:(0,M.jsx)(f.Z,{component:"div",count:(null===z||void 0===z||null===(t=z.data)||void 0===t?void 0:t.total)||0,page:Z,onPageChange:function(e,n){return b(n)},rowsPerPage:x,onRowsPerPageChange:function(e){return p(e.target.value)}})})]})}},4335:function(e,n,t){t.d(n,{JT:function(){return h},nx:function(){return l},r$:function(){return s},vu:function(){return u}});var i=t(2982),r=t(1933),a=t(7400),l=function(){return(0,r.useQuery)(["get-feed-images"],(function(){return a.ZP.get("feed/image")}),{})},o=function(e){return a.ZP.delete("feed/image/".concat(e))},s=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(o,{onSuccess:function(){return e.invalidateQueries("get-feed-images")}})},d=function(e){return a.ZP.postForm("feed/image",e)},u=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(d,{onSuccess:function(){return e.invalidateQueries("get-feed-images")}})},c=function(e){return a.ZP.postForm("attachments",{"Files[]":(0,i.Z)(e)})},h=function(){return(0,r.useMutation)(c,{})}},1537:function(e,n,t){t.d(n,{Hl:function(){return s},Yz:function(){return l},dd:function(){return u},st:function(){return a}});var i=t(1933),r=t(7400),a=function(e){return(0,i.useQuery)(["get-all-customer",e],(function(){return function(e){return r.ZP.get("customer",{params:e})}(e)}),{})},l=function(e){return(0,i.useQuery)(["get-customer-by-id",e],(function(){return function(e){return r.ZP.get("customer/".concat(e))}(e)}),{})},o=function(e){var n=e.customer_id,t=e.data;return r.ZP.patch("customer/".concat(n),t)},s=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(o,{onSuccess:function(){e.invalidateQueries("get-all-store"),e.invalidateQueries("get-store-by-id")}})},d=function(e){return r.ZP.put("customer/".concat(e))},u=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(d,{onSuccess:function(){e.invalidateQueries("get-all-customer"),e.invalidateQueries("get-customer-by-id")}})}},8152:function(e,n,t){t.d(n,{R:function(){return a},S:function(){return o}});var i=t(1933),r=t(7400),a=function(e){return(0,i.useQuery)(["get-all-review",e],(function(){return function(e){return r.ZP.get("review",{params:e})}(e)}),{})},l=function(e){return r.ZP.put("review/".concat(e))},o=function(){var e=(0,i.useQueryClient)();return(0,i.useMutation)(l,{onSuccess:function(){e.invalidateQueries("get-all-review")}})}},8090:function(e,n){n.Z={bgcolor:"#f3f3f3",borderRadius:"4px",px:"10px",height:"52px",outline:"none","&, & *":{border:"transparent !important",outline:"none !important"}}}}]);
//# sourceMappingURL=415.3ee7b0d8.chunk.js.map