"use strict";(self.webpackChunkrayos_admin_react=self.webpackChunkrayos_admin_react||[]).push([[537],{9515:function(e,t,n){var r=n(1413),i=n(6934),a=n(9891),o=(n(2791),n(184)),s=(0,i.ZP)((function(e){return(0,o.jsx)(a.Z,(0,r.Z)({focusVisibleClassName:".Mui-focusVisible"},e))}))((function(e){e.theme;return{width:44,height:26,padding:5,"& .MuiSwitch-switchBase":{margin:1,padding:6,transform:"translateX(0px)","&.Mui-checked":{color:"#fff",transform:"translateX(18px)"},"&.Mui-checked + .MuiSwitch-track":{}},"& .MuiSwitch-thumb":{width:12,height:12},"& .MuiSwitch-track":{borderRadius:16}}}));t.Z=s},384:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(1413),i=n(5987),a=n(8870),o=n(2808),s=(n(2791),n(6934)),l=n(184),u=(0,s.ZP)("div")((function(e){var t=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===t.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===t.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===t.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===t.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===t.palette.mode?"0.8":"0.08",fill:"light"===t.palette.mode?"#f5f5f5":"#fff"}}}));function c(){return(0,l.jsxs)(u,{children:[(0,l.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,l.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,l.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,l.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,l.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,l.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,l.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,l.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,l.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,l.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,l.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,l.jsx)(a.Z,{sx:{mt:1},children:"No Data Found!"})]})}var d=["columns","rows","isLoading","onCellClick"],f=function(e){var t=e.columns,n=e.rows,s=e.isLoading,u=(e.onCellClick,(0,i.Z)(e,d));return(0,l.jsx)(a.Z,{sx:{height:s||!n.length?"400px":"fit-content","& .MuiDataGrid-columnHeaders":{backgroundColor:"#E5E5E5",color:"black",fontWeight:900,fontSize:14}},children:(0,l.jsx)(o._,(0,r.Z)({headerAlign:!0,disableColumnMenu:!0,disableColumnFilter:!0,disableSelectionOnClick:!0,rowsPerPageOptions:[5,10,25,50,100],autoHeight:!(s||!n.length),columns:t,rows:n,loading:s,components:{NoRowsOverlay:c},sx:{"& .MuiDataGrid-columnHeader:focus-within, & .MuiDataGrid-cell:focus-within":{outline:"none !important"}}},u))})}},9508:function(e,t,n){var r=n(885),i=n(6125),a=n(4070),o=n(2791),s=n(184);t.Z=function(e){var t=e.err,n=o.useState(!1),l=(0,r.Z)(n,2),u=l[0],c=l[1];return o.useEffect((function(){return c(!!t)}),[t]),(0,s.jsx)(i.Z,{in:u,sx:{width:"100%"},children:(0,s.jsx)(a.Z,{severity:"error",sx:{width:"100%"},onClose:function(){return c(!1)},children:"required"===(null===t||void 0===t?void 0:t.type)?"This Field is Required!":(null===t||void 0===t?void 0:t.message)||"Something wrong here!"})})}},5612:function(e,t,n){var r=n(4942),i=n(1413),a=n(885),o=n(2791);t.Z=function(e){var t,n,s,l,u=o.useState({limit:(null===e||void 0===e||null===(t=e.defaultParams)||void 0===t?void 0:t.limit)||10,page:(null===e||void 0===e||null===(n=e.defaultParams)||void 0===n?void 0:n.page)||1,search:(null===e||void 0===e||null===(s=e.defaultParams)||void 0===s?void 0:s.search)||"",filters:(null===e||void 0===e||null===(l=e.defaultParams)||void 0===l?void 0:l.filter)||{}}),c=(0,a.Z)(u,2),d=c[0],f=c[1];return{params:d,search:null===d||void 0===d?void 0:d.search,setSearch:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{search:e}))},page:((null===d||void 0===d?void 0:d.page)||1)-1,setPage:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{page:e+1}))},limit:null===d||void 0===d?void 0:d.limit,setLimit:function(e){return f((0,i.Z)((0,i.Z)({},d),{},{limit:e}))},watch:function(e){var t;return(null===d||void 0===d||null===(t=d.filters)||void 0===t?void 0:t[e])||void 0},setFilterField:function(e,t){return f((0,i.Z)((0,i.Z)({},d),{},{filters:(0,i.Z)((0,i.Z)({},null===d||void 0===d?void 0:d.filters),{},(0,r.Z)({},e,t))}))},getQueryParams:function(){return JSON.parse(JSON.stringify((0,i.Z)((0,i.Z)({},d),{},{filters:void 0},d.filters)))}}}},5537:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var r=n(4942),i=n(4165),a=n(5861),o=n(885),s=n(3400),l=n(1918),u=n(3044),c=n(890),d=n(266),f=n(703),h=n(1889),m=n(4834),g=n(4518),p=n(384),x=n(2791),v=n(6856),Z=n(8090),y=n(4353),j=n(6355),w=n(7400),P=n(9515),C=n(1413),S=n(5987),b=n(9953),k=n(493),M=n(5021),N=n(9900),Q=n(7482),z=n(4721),A=n(1134),F=n(9508),E=n(7589),W=n(5239),D=n(184),H=["open","onClose"],L=function(e){var t=e.open,n=e.onClose,r=((0,S.Z)(e,H),x.useContext(E.Z)),o=(0,A.cI)(),l=o.register,u=o.reset,c=o.handleSubmit,d=o.formState,f=d.errors,h=(d.isDirty,(0,y.WQ)()),p=h.mutateAsync,j=h.isLoading,w=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,W.E)((function(){return p(t)}),[201]);case 2:(a=e.sent).status?(r.createSnack(a.msg),u(),n()):r.createSnack(a.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(b.ZP,{anchor:"right",PaperProps:{sx:{width:"95vw",maxWidth:"570px"}},open:t,onClose:n,children:(0,D.jsx)("form",{onSubmit:c(w),children:(0,D.jsxs)(k.Z,{disablePadding:!0,sx:{flex:1},children:[(0,D.jsxs)(M.ZP,{children:[(0,D.jsx)(N.Z,{primary:"Create Store",secondary:"Upload Store Information"}),(0,D.jsx)(s.Z,{size:"small",color:"black",onClick:n,children:(0,D.jsx)(v.FU5,{})})]}),j?(0,D.jsx)(Q.Z,{}):(0,D.jsx)(z.Z,{sx:{mb:1}}),(0,D.jsxs)(M.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1},children:["Store Name *",(0,D.jsx)(m.ZP,(0,C.Z)((0,C.Z)({sx:Z.Z,placeholder:"Enter Store Name"},l("titleEn",{required:!0})),{},{fullWidth:!0})),(0,D.jsx)(F.Z,{err:f.titleEn})]}),(0,D.jsxs)(M.ZP,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",rowGap:1},children:["Description *",(0,D.jsx)(m.ZP,(0,C.Z)((0,C.Z)({sx:(0,C.Z)((0,C.Z)({},Z.Z),{},{height:"unset",py:1}),placeholder:"Enter Description",multiline:!0,minRows:5},l("descriptionEn",{required:!0})),{},{fullWidth:!0})),(0,D.jsx)(F.Z,{err:f.descriptionEn})]}),(0,D.jsx)(M.ZP,{children:(0,D.jsx)(g.Z,{variant:"contained",type:"submit",disabled:j,fullWidth:!0,children:"Create"})})]})})})})},_=n(2426),V=n.n(_),G=n(1087),I=(n(3953),n(1866)),R=n(5612),O=function(){var e,t,n=x.useState(!1),C=(0,o.Z)(n,2),S=C[0],b=C[1],k=x.useContext(E.Z),M=function(){return b(!S)},N=(0,R.Z)(),Q=N.limit,z=N.setLimit,A=N.page,F=N.setPage,H=(N.search,N.setSearch),_=(N.watch,N.setFilterField,N.getQueryParams),O=(0,y.Ks)(_()),U=O.data,q=O.isLoading,B=(0,I.FU)().data;console.log(B);var J=(0,y.nc)().mutateAsync,K=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,W.E)((function(){return J(t)}));case 2:(n=e.sent).status?k.createSnack(n.msg):k.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=[{headerName:"",field:"_id",width:60,headerAlign:"center",align:"center",renderCell:function(e){var t;return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(s.Z,{component:G.rU,size:"small",color:"primary",to:"/store/".concat(null===(t=e.row)||void 0===t?void 0:t._id),children:(0,D.jsx)(j.bdS,{})})})}},(0,r.Z)({headerName:"Store Name",headerAlign:"left",field:"titleEn",align:"center",minWidth:200,flex:1},"align","left"),{headerName:"Owner",headerAlign:"center",field:"owner",type:"date",align:"center",minWidth:180,flex:1,renderCell:function(e){return(0,D.jsx)(l.Z,{avatar:(0,D.jsx)(u.Z,{alt:e.row.owner.userName,src:(0,w.FG)(e.row.owner.image)}),label:e.row.owner.userName,variant:"outlined"})}},{headerName:"Total Products",headerAlign:"center",field:"totalProducts",type:"date",align:"center",width:160},{headerName:"Created At",headerAlign:"center",field:"createdAt",type:"date",align:"center",width:200,renderCell:function(e){return(0,D.jsx)(c.Z,{children:V()(e.row.createdAt).format("ll")})}},{headerName:"Status",headerAlign:"center",field:"status",align:"center",width:120,renderCell:function(e){return(0,D.jsx)(P.Z,{checked:e.row.isActive,color:"success",onClick:function(){var t;K(null===(t=e.row)||void 0===t?void 0:t._id)}})}}];return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(d.Z,{sx:{py:2},children:[(0,D.jsx)(f.Z,{elevation:0,sx:{p:2,border:"1px solid #ccc",my:2},children:(0,D.jsxs)(h.ZP,{container:!0,rowGap:1,columnGap:1,alignItems:"center",justifyContent:"space-between",children:[(0,D.jsx)(h.ZP,{item:!0,xs:12,md:8.8,children:(0,D.jsx)(m.ZP,{placeholder:"Search Store",sx:Z.Z,onChange:function(e){return H(e.target.value)},fullWidth:!0})}),(0,D.jsxs)(h.ZP,{item:!0,xs:12,md:3,children:[(0,D.jsx)(g.Z,{variant:"contained",color:"primary",size:"large",sx:{height:"52px"},startIcon:(0,D.jsx)(v.x06,{}),onClick:M,fullWidth:!0,children:"Add Store"}),(0,D.jsx)(L,{open:S,onClose:M})]})]})}),(0,D.jsx)(p.Z,{columns:T,rows:(null===U||void 0===U||null===(e=U.data)||void 0===e?void 0:e.data)||[],getRowId:function(e){return e._id},isLoading:q,paginationMode:"server",rowCount:(null===U||void 0===U||null===(t=U.data)||void 0===t?void 0:t.total)||0,page:A,onPageChange:F,pageSize:Q,onPageSizeChange:z})]})})}},1866:function(e,t,n){n.d(t,{FU:function(){return s},oY:function(){return l},tY:function(){return u},uQ:function(){return a},xf:function(){return o}});var r=n(1933),i=n(7400),a=function(){return(0,r.useQuery)(["get-product-stats"],(function(){return i.ZP.get("stats/product")}),{})},o=function(){return(0,r.useQuery)(["get-customer-stats"],(function(){return i.ZP.get("stats/customer")}),{})},s=function(){return(0,r.useQuery)(["get-store-stats"],(function(){return i.ZP.get("stats/store")}),{})},l=function(){return(0,r.useQuery)(["get-orders-stats"],(function(){return i.ZP.get("stats/order")}),{})},u=function(){return(0,r.useQuery)(["get-category-stats"],(function(){return i.ZP.get("stats/category")}),{})}},4353:function(e,t,n){n.d(t,{Ks:function(){return a},Rs:function(){return l},WQ:function(){return s},nc:function(){return f},u2:function(){return c}});var r=n(1933),i=n(7400),a=function(e){return(0,r.useQuery)(["get-all-store",e],(function(){return function(e){return i.ZP.get("store",{params:e})}(e)}),{})},o=function(e){return i.ZP.post("store",e)},s=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(o,{onSuccess:function(){return e.invalidateQueries("get-all-store")}})},l=function(e){return(0,r.useQuery)(["get-store-by-id",e],(function(){return function(e){return i.ZP.get("store/".concat(e))}(e)}),{})},u=function(e){var t=e.store_id,n=e.data;return i.ZP.patch("store/".concat(t),n)},c=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(u,{onSuccess:function(){e.invalidateQueries("get-all-store"),e.invalidateQueries("get-store-by-id")}})},d=function(e){return i.ZP.put("store/".concat(e))},f=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(d,{onSuccess:function(){return e.invalidateQueries("get-all-store")}})}},8090:function(e,t){t.Z={bgcolor:"#f3f3f3",borderRadius:"4px",px:"10px",height:"52px",outline:"none","&, & *":{border:"transparent !important",outline:"none !important"}}}}]);
//# sourceMappingURL=537.17d2e04e.chunk.js.map