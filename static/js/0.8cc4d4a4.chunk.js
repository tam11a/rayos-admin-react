"use strict";(self.webpackChunkrayos_admin_react=self.webpackChunkrayos_admin_react||[]).push([[0],{9515:function(e,t,n){var r=n(1413),i=n(6934),o=n(9891),u=(n(2791),n(184)),a=(0,i.ZP)((function(e){return(0,u.jsx)(o.Z,(0,r.Z)({focusVisibleClassName:".Mui-focusVisible"},e))}))((function(e){e.theme;return{width:44,height:26,padding:5,"& .MuiSwitch-switchBase":{margin:1,padding:6,transform:"translateX(0px)","&.Mui-checked":{color:"#fff",transform:"translateX(18px)"},"&.Mui-checked + .MuiSwitch-track":{}},"& .MuiSwitch-thumb":{width:12,height:12},"& .MuiSwitch-track":{borderRadius:16}}}));t.Z=a},5612:function(e,t,n){var r=n(4942),i=n(1413),o=n(885),u=n(2791);t.Z=function(e){var t,n,a,l,c=u.useState({limit:(null===e||void 0===e||null===(t=e.defaultParams)||void 0===t?void 0:t.limit)||10,page:(null===e||void 0===e||null===(n=e.defaultParams)||void 0===n?void 0:n.page)||1,search:(null===e||void 0===e||null===(a=e.defaultParams)||void 0===a?void 0:a.search)||"",filters:(null===e||void 0===e||null===(l=e.defaultParams)||void 0===l?void 0:l.filter)||{}}),s=(0,o.Z)(c,2),d=s[0],v=s[1];return{params:d,search:null===d||void 0===d?void 0:d.search,setSearch:function(e){return v((0,i.Z)((0,i.Z)({},d),{},{search:e}))},page:((null===d||void 0===d?void 0:d.page)||1)-1,setPage:function(e){return v((0,i.Z)((0,i.Z)({},d),{},{page:e+1}))},limit:null===d||void 0===d?void 0:d.limit,setLimit:function(e){return v((0,i.Z)((0,i.Z)({},d),{},{limit:e}))},watch:function(e){var t;return(null===d||void 0===d||null===(t=d.filters)||void 0===t?void 0:t[e])||void 0},setFilterField:function(e,t){return v((0,i.Z)((0,i.Z)({},d),{},{filters:(0,i.Z)((0,i.Z)({},null===d||void 0===d?void 0:d.filters),{},(0,r.Z)({},e,t))}))},getQueryParams:function(){return JSON.parse(JSON.stringify((0,i.Z)((0,i.Z)({},d),{},{filters:void 0},d.filters)))}}}},7569:function(e,t,n){var r=n(4165),i=n(5861),o=n(1413),u=n(885),a=n(703),l=n(1889),c=n(4834),s=n(4415),d=n(3786),v=n(3767),f=n(3239),h=n(8178),m=n(3044),p=n(748),x=n(890),g=n(2791),Z=n(1087),w=n(8152),j=n(7400),P=n(2426),b=n.n(P),y=n(8090),S=n(9515),k=n(7589),C=n(5239),Q=n(5612),A=n(184),F=function(e){var t,n,o=e.revItem,u=e.showUser,l=e.showProd,c=e.showAll,s=g.useContext(k.Z),d=(0,w.S)().mutateAsync,f=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.E)((function(){return d(t)}));case 2:(n=e.sent).status?s.createSnack(n.msg):s.createSnack(n.msg,"error");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,A.jsx)(a.Z,{elevation:0,sx:{p:1,pb:.5,mb:1,"&:last-child":{mb:0},border:"1px solid #ddd"},children:(0,A.jsxs)(v.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",columnGap:4,children:[(u||c)&&(0,A.jsx)(v.Z,{direction:"column",alignItems:"center",rowGap:.5,maxWidth:"62px",component:Z.rU,to:"/customer/".concat(null===o||void 0===o||null===(t=o.author)||void 0===t?void 0:t._id),sx:{textDecoration:"none",color:"unset"},children:(0,A.jsx)(m.Z,{sx:{width:45,height:45},variant:"rounded",src:(0,j.FG)(null===o||void 0===o?void 0:o.author.image),alt:null===o||void 0===o?void 0:o.author.fullName})}),(l||c)&&(0,A.jsx)(v.Z,{direction:"column",alignItems:"center",rowGap:.5,maxWidth:"200px",component:Z.rU,to:"/prod/".concat(null===o||void 0===o||null===(n=o.product)||void 0===n?void 0:n._id),sx:{textDecoration:"none",color:"unset"},children:(0,A.jsx)(m.Z,{sx:{borderRadius:1,height:"45px",width:"45px",background:"transparent",color:"primary.dark",mr:1},src:(0,j.FG)(null===o||void 0===o?void 0:o.product.image),alt:null===o||void 0===o?void 0:o.product.titleEn})}),(0,A.jsxs)(v.Z,{direction:"column",rowGap:.5,flex:1,children:[(0,A.jsx)(p.Z,{name:"half-rating-read",value:null===o||void 0===o?void 0:o.rating,precision:.1,size:"small",readOnly:!0}),(0,A.jsx)(x.Z,{children:null===o||void 0===o?void 0:o.message}),(0,A.jsx)(x.Z,{variant:"caption",children:b()(null===o||void 0===o?void 0:o.createdAt).format("lll")})]}),(0,A.jsx)(S.Z,{checked:null===o||void 0===o?void 0:o.isActive,color:"success",onClick:function(){f(null===o||void 0===o?void 0:o._id)}})]})})};t.Z=function(e){var t,n,r=e.author,i=e.product,m=(0,Q.Z)(),p=m.limit,x=m.setLimit,Z=m.page,j=m.setPage,P=m.search,b=m.setSearch,S=m.watch,k=m.setFilterField,C=m.getQueryParams;g.useEffect((function(){(r||i)&&(r&&k("author",r),i&&k("product",i))}),[]);var M=(0,w.R)(C()),G=M.data,_=M.isLoading,I=M.isError,R=g.useState([]),E=(0,u.Z)(R,2),U=E[0],W=E[1];return g.useEffect((function(){var e;I||W((null===G||void 0===G||null===(e=G.data)||void 0===e?void 0:e.data)||[])}),[_,G]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(a.Z,{elevation:0,sx:{p:2,border:"1px solid #ccc",my:2},children:(0,A.jsxs)(l.ZP,{container:!0,rowGap:1,columnGap:1,alignItems:"center",justifyContent:"space-between",children:[(0,A.jsx)(l.ZP,{item:!0,xs:12,sm:8.7,children:(0,A.jsx)(c.ZP,{placeholder:"Search User",sx:y.Z,value:P,onChange:function(e){return b(e.target.value)},fullWidth:!0})}),(0,A.jsx)(l.ZP,{item:!0,xs:12,sm:3,children:(0,A.jsxs)(s.Z,{sx:(0,o.Z)({},y.Z),value:S("isActive")||"null",onChange:function(e){k("isActive","null"===e.target.value?void 0:e.target.value)},fullWidth:!0,children:[(0,A.jsx)(d.Z,{value:"null",selected:!0,children:"All"}),(0,A.jsx)(d.Z,{value:"true",children:"Active"}),(0,A.jsx)(d.Z,{value:"false",children:"Blocked"}),"/"]})})]})}),_&&(0,A.jsx)(v.Z,{alignItems:"center",py:2,pb:4,children:(0,A.jsx)(f.Z,{})}),null===U||void 0===U||null===(t=U.map)||void 0===t?void 0:t.call(U,(function(e,t){return(0,A.jsx)(g.Fragment,{children:(0,A.jsx)(F,{revItem:e,showProd:!!r,showUser:!!i,showAll:!r&&!i})},t)})),(0,A.jsx)(v.Z,{direction:"row",justifyContent:"flex-end",children:(0,A.jsx)(h.Z,{component:"div",count:(null===G||void 0===G||null===(n=G.data)||void 0===n?void 0:n.total)||0,page:Z,onPageChange:function(e,t){return j(t)},rowsPerPage:p,onRowsPerPageChange:function(e){return x(e.target.value)}})})]})}},0:function(e,t,n){n.r(t);var r=n(266),i=n(890),o=(n(2426),n(2791),n(7589),n(4972),n(8152),n(7400),n(8090),n(7569)),u=n(184);t.default=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(r.Z,{sx:{py:2},children:[(0,u.jsx)(i.Z,{variant:"h6",sx:{mb:1,fontWeight:"bold"},children:"All Review"}),(0,u.jsx)(o.Z,{})]})})}},4972:function(e,t,n){n.d(t,{Hw:function(){return o},J_:function(){return u},Ll:function(){return l}});var r=n(1933),i=n(7400),o=function(e){return(0,r.useQuery)(["get-all-order",e],(function(){return function(e){return i.ZP.get("order",{params:e})}(e)}),{})},u=function(e,t){return(0,r.useQuery)(["get-user-orderlist-by-id",e,t],(function(){return function(e,t){return i.ZP.get("order/user/".concat(e,"?").concat(t.method&&"all"!==t.method?"status=".concat(t.method,"&"):"","limit=").concat(t.limit,"&page=").concat(t.page))}(e,t)}),{})},a=function(e){var t=e.id,n=e.status;return i.ZP.put("order/".concat(t,"?status=").concat(n))},l=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(a,{onSuccess:function(){e.invalidateQueries("get-all-order"),e.invalidateQueries("get-user-orderlist-by-id"),e.invalidateQueries("get-products-by-order-id")}})}},8152:function(e,t,n){n.d(t,{R:function(){return o},S:function(){return a}});var r=n(1933),i=n(7400),o=function(e){return(0,r.useQuery)(["get-all-review",e],(function(){return function(e){return i.ZP.get("review",{params:e})}(e)}),{})},u=function(e){return i.ZP.put("review/".concat(e))},a=function(){var e=(0,r.useQueryClient)();return(0,r.useMutation)(u,{onSuccess:function(){e.invalidateQueries("get-all-review")}})}},8090:function(e,t){t.Z={bgcolor:"#f3f3f3",borderRadius:"4px",px:"10px",height:"52px",outline:"none","&, & *":{border:"transparent !important",outline:"none !important"}}}}]);
//# sourceMappingURL=0.8cc4d4a4.chunk.js.map